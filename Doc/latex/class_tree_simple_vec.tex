\hypertarget{class_tree_simple_vec}{}\doxysection{Tree\+Simple\+Vec$<$ T $>$ Class Template Reference}
\label{class_tree_simple_vec}\index{TreeSimpleVec$<$ T $>$@{TreeSimpleVec$<$ T $>$}}


A tree for doing quick searches in multidimensional space. A pointer to an array of objects type T is provided. If they are in a vector, vector.\+data() can be put in the constructor. The order of objects in the array is not changed. If Mypos is not specified the method Pos\+Type $\ast$ T\+::x() must exist. It is this coordinate that is used for the object\textquotesingle{}s position. Another definition for the position of and object can made by specifying Mypos.  




{\ttfamily \#include $<$simple\+Tree\+Vec.\+h$>$}



Collaboration diagram for Tree\+Simple\+Vec$<$ T $>$\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=239pt]{class_tree_simple_vec__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_tree_simple_vec_1_1_branch_v}{BranchV}}
\begin{DoxyCompactList}\small\item\em Box representing a branch in a tree. It has four children. Used in \mbox{\hyperlink{struct_tree_n_b_struct}{Tree\+N\+B\+Struct}} which is used in \mbox{\hyperlink{class_tree_force}{Tree\+Force}}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_tree_simple_vec_af1dbf59aff92eb82962d32d0d13ad51d}{Tree\+Simple\+Vec}} (T $\ast$xpt, Index\+Type Npoints, int bucket=5, int dimensions=2, bool median=true, Pos\+Type $\ast$($\ast$Mypos)(T \&)=\mbox{[}$\,$\mbox{]}(T \&in)\{return in.\+x;\})
\item 
\mbox{\Hypertarget{class_tree_simple_vec_a68bc857d42c2563f73350ced451af84d}\label{class_tree_simple_vec_a68bc857d42c2563f73350ced451af84d}} 
void \mbox{\hyperlink{class_tree_simple_vec_a68bc857d42c2563f73350ced451af84d}{Points\+Within\+Circle}} (Pos\+Type center\mbox{[}2\mbox{]}, float radius, std\+::list$<$ unsigned long $>$ \&neighborkist)
\begin{DoxyCompactList}\small\item\em Finds the points within a circle around center and puts their index numbers in a list. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_tree_simple_vec_a4a693b0a1221459592fe40525da7ebab}\label{class_tree_simple_vec_a4a693b0a1221459592fe40525da7ebab}} 
void \mbox{\hyperlink{class_tree_simple_vec_a4a693b0a1221459592fe40525da7ebab}{Points\+Within\+Ellipse}} (Pos\+Type center\mbox{[}2\mbox{]}, float a\+\_\+max, float a\+\_\+min, float posangle, std\+::list$<$ unsigned long $>$ \&neighborkist)
\begin{DoxyCompactList}\small\item\em Finds the points within an ellipse around center and puts their index numbers in a list. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_tree_simple_vec_a1b60bd3d296df8aa00825b5657be8902}{Nearest\+Neighbors}} (Pos\+Type $\ast$ray, int Nneighbors, float $\ast$radius, Index\+Type $\ast$neighbors)
\begin{DoxyCompactList}\small\item\em Finds the nearest N neighbors and puts their index numbers in an array, also returns the distance to the Nth neighbor for calculating smoothing. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_tree_simple_vec_a1188a771866eeaa6b132040a4afdba26}\label{class_tree_simple_vec_a1188a771866eeaa6b132040a4afdba26}} 
void {\bfseries Build\+Tree} ()
\item 
\mbox{\Hypertarget{class_tree_simple_vec_ae7ebc856350266b6699a8de9ad171864}\label{class_tree_simple_vec_ae7ebc856350266b6699a8de9ad171864}} 
void {\bfseries \+\_\+\+Build\+Tree} (Index\+Type nparticles, Index\+Type $\ast$tmp\+\_\+index)
\item 
void \mbox{\hyperlink{class_tree_simple_vec_a65105a08cf9d4c9922672e1022de6348}{\+\_\+\+Points\+Within}} (Pos\+Type $\ast$ray, float $\ast$rmax, std\+::list$<$ unsigned long $>$ \&neighborkist)
\item 
void \mbox{\hyperlink{class_tree_simple_vec_a15d8887300259ba921e63467eb5eb1cb}{\+\_\+\+Nearest\+Neighbors}} (Pos\+Type $\ast$ray, int Nneighbors, unsigned long $\ast$neighbors, Pos\+Type $\ast$rneighbors)
\item 
\mbox{\Hypertarget{class_tree_simple_vec_ac152bbd6e831760467333a8c6da4ccaa}\label{class_tree_simple_vec_ac152bbd6e831760467333a8c6da4ccaa}} 
void \mbox{\hyperlink{class_tree_simple_vec_ac152bbd6e831760467333a8c6da4ccaa}{free\+Tree}} ()
\begin{DoxyCompactList}\small\item\em Free all the tree branches. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_tree_simple_vec_aacc0b953df0c8837e2ef9e4ec31542dc}\label{class_tree_simple_vec_aacc0b953df0c8837e2ef9e4ec31542dc}} 
short {\bfseries empty\+Tree} ()
\item 
\mbox{\Hypertarget{class_tree_simple_vec_a1693ee34af0aeb5a1b0c09d0c278effc}\label{class_tree_simple_vec_a1693ee34af0aeb5a1b0c09d0c278effc}} 
void {\bfseries \+\_\+free\+Tree} (short child)
\item 
\mbox{\Hypertarget{class_tree_simple_vec_a90c7a872db3493f34e5bf98ef2978efe}\label{class_tree_simple_vec_a90c7a872db3493f34e5bf98ef2978efe}} 
bool {\bfseries is\+Empty} ()
\item 
\mbox{\Hypertarget{class_tree_simple_vec_ab23d3a7f65a421b010373a9d28ed4bdf}\label{class_tree_simple_vec_ab23d3a7f65a421b010373a9d28ed4bdf}} 
bool {\bfseries at\+Top} ()
\item 
\mbox{\Hypertarget{class_tree_simple_vec_a0c2bf6099da6080f63b5f2c0c95c01d8}\label{class_tree_simple_vec_a0c2bf6099da6080f63b5f2c0c95c01d8}} 
bool {\bfseries no\+Child} ()
\item 
\mbox{\Hypertarget{class_tree_simple_vec_a61be9948303669590280702c16f58911}\label{class_tree_simple_vec_a61be9948303669590280702c16f58911}} 
bool {\bfseries off\+End} ()
\item 
\mbox{\Hypertarget{class_tree_simple_vec_aa081b5771214b40036375cf7bc0270dc}\label{class_tree_simple_vec_aa081b5771214b40036375cf7bc0270dc}} 
void {\bfseries get\+Current} (Index\+Type $\ast$branch\+\_\+index, Index\+Type $\ast$nparticles)
\item 
\mbox{\Hypertarget{class_tree_simple_vec_a77353617917eae96eb246ac7921bad17}\label{class_tree_simple_vec_a77353617917eae96eb246ac7921bad17}} 
unsigned long {\bfseries get\+Nbranches} ()
\item 
\mbox{\Hypertarget{class_tree_simple_vec_a4b5636282c40932ca6beecd49b0f8928}\label{class_tree_simple_vec_a4b5636282c40932ca6beecd49b0f8928}} 
void {\bfseries move\+Top} ()
\item 
\mbox{\Hypertarget{class_tree_simple_vec_a508e06045c86ebc1bf2c3d29752c6cd1}\label{class_tree_simple_vec_a508e06045c86ebc1bf2c3d29752c6cd1}} 
void {\bfseries move\+Up} ()
\item 
\mbox{\Hypertarget{class_tree_simple_vec_a58996009d8fa9ed725d81ded7e007d3c}\label{class_tree_simple_vec_a58996009d8fa9ed725d81ded7e007d3c}} 
void {\bfseries move\+To\+Child} (int child)
\item 
\mbox{\Hypertarget{class_tree_simple_vec_a758d5ec00f2dff561c071444d3932555}\label{class_tree_simple_vec_a758d5ec00f2dff561c071444d3932555}} 
void {\bfseries attach\+Child\+To\+Current} (Index\+Type $\ast$branch\+\_\+index, Index\+Type nparticles, Pos\+Type boundary\+\_\+p1\mbox{[}$\,$\mbox{]}, Pos\+Type boundary\+\_\+p2\mbox{[}$\,$\mbox{]}, int child)
\item 
\mbox{\Hypertarget{class_tree_simple_vec_ab2ac8218c6ac353ad5818792db607721}\label{class_tree_simple_vec_ab2ac8218c6ac353ad5818792db607721}} 
void {\bfseries attach\+Child\+To\+Current} (\mbox{\hyperlink{struct_tree_simple_vec_1_1_branch_v}{BranchV}} \&data, int child)
\item 
\mbox{\Hypertarget{class_tree_simple_vec_a74aede58fc063cdf754dd0de1ff886aa}\label{class_tree_simple_vec_a74aede58fc063cdf754dd0de1ff886aa}} 
bool {\bfseries Tree\+Walk\+Step} (bool allow\+Descent)
\item 
\mbox{\Hypertarget{class_tree_simple_vec_aa77f6847a7f1e1b3a2c378907163b41a}\label{class_tree_simple_vec_aa77f6847a7f1e1b3a2c378907163b41a}} 
bool {\bfseries at\+Leaf} ()
\item 
\mbox{\Hypertarget{class_tree_simple_vec_aea7210066cca2f0eebf53ad8551a6353}\label{class_tree_simple_vec_aea7210066cca2f0eebf53ad8551a6353}} 
bool {\bfseries inbox} (const Pos\+Type $\ast$center, Pos\+Type $\ast$p1, Pos\+Type $\ast$p2)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_tree_simple_vec_af45fbb3eb2a00c5de8ffedb5ea242a1e}\label{class_tree_simple_vec_af45fbb3eb2a00c5de8ffedb5ea242a1e}} 
int {\bfseries incell}
\item 
\mbox{\Hypertarget{class_tree_simple_vec_a8e1580388fef0f5fd2a6750dbb76e98a}\label{class_tree_simple_vec_a8e1580388fef0f5fd2a6750dbb76e98a}} 
int {\bfseries incell2}
\item 
\mbox{\Hypertarget{class_tree_simple_vec_a70329b1766f9b52168e74538022d55cb}\label{class_tree_simple_vec_a70329b1766f9b52168e74538022d55cb}} 
Index\+Type $\ast$ {\bfseries index}
\item 
\mbox{\Hypertarget{class_tree_simple_vec_ad8b42ba38ac93e25d51fe12222106cb1}\label{class_tree_simple_vec_ad8b42ba38ac93e25d51fe12222106cb1}} 
Index\+Type {\bfseries Nparticles}
\item 
\mbox{\Hypertarget{class_tree_simple_vec_ac5decda514ed0e8b803c303c389773c3}\label{class_tree_simple_vec_ac5decda514ed0e8b803c303c389773c3}} 
bool {\bfseries median\+\_\+cut}
\item 
\mbox{\Hypertarget{class_tree_simple_vec_a9f767ce03f2beee99c7f7ff8823d8867}\label{class_tree_simple_vec_a9f767ce03f2beee99c7f7ff8823d8867}} 
int {\bfseries Nbucket}
\item 
\mbox{\Hypertarget{class_tree_simple_vec_a8db2a22856221450a10c4e132a07922b}\label{class_tree_simple_vec_a8db2a22856221450a10c4e132a07922b}} 
Pos\+Type {\bfseries realray} \mbox{[}2\mbox{]}
\item 
\mbox{\Hypertarget{class_tree_simple_vec_ab0a8f81f7860cc587165d0d71428fc20}\label{class_tree_simple_vec_ab0a8f81f7860cc587165d0d71428fc20}} 
T $\ast$ {\bfseries points}
\item 
\mbox{\Hypertarget{class_tree_simple_vec_aec8ce5ce9bbc21dfee19ccb4ea6522d4}\label{class_tree_simple_vec_aec8ce5ce9bbc21dfee19ccb4ea6522d4}} 
Pos\+Type $\ast$($\ast$ {\bfseries position} )(T \&)
\item 
\mbox{\Hypertarget{class_tree_simple_vec_a75d3c256a63f95da0057a12db5623049}\label{class_tree_simple_vec_a75d3c256a63f95da0057a12db5623049}} 
\mbox{\hyperlink{struct_tree_simple_vec_1_1_branch_v}{BranchV}} $\ast$ {\bfseries top}
\item 
\mbox{\Hypertarget{class_tree_simple_vec_a412d0f6f183c67a5a2ce26982673f461}\label{class_tree_simple_vec_a412d0f6f183c67a5a2ce26982673f461}} 
\mbox{\hyperlink{struct_tree_simple_vec_1_1_branch_v}{BranchV}} $\ast$ {\bfseries current}
\item 
\mbox{\Hypertarget{class_tree_simple_vec_a16dcf35790fe3e9cf45a87f1363d0b60}\label{class_tree_simple_vec_a16dcf35790fe3e9cf45a87f1363d0b60}} 
unsigned long \mbox{\hyperlink{class_tree_simple_vec_a16dcf35790fe3e9cf45a87f1363d0b60}{Nbranches}}
\begin{DoxyCompactList}\small\item\em number of branches in tree \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_tree_simple_vec_adad8d653a11fa9754de41463e5a5c848}\label{class_tree_simple_vec_adad8d653a11fa9754de41463e5a5c848}} 
short \mbox{\hyperlink{class_tree_simple_vec_adad8d653a11fa9754de41463e5a5c848}{Ndimensions}}
\begin{DoxyCompactList}\small\item\em Dimension of tree, 2 or 3. This will dictate how the force is calculated. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$class T$>$\newline
class Tree\+Simple\+Vec$<$ T $>$}

A tree for doing quick searches in multidimensional space. A pointer to an array of objects type T is provided. If they are in a vector, vector.\+data() can be put in the constructor. The order of objects in the array is not changed. If Mypos is not specified the method Pos\+Type $\ast$ T\+::x() must exist. It is this coordinate that is used for the object\textquotesingle{}s position. Another definition for the position of and object can made by specifying Mypos. 

\mbox{\hyperlink{simple_tree_vec_8h_source}{simple\+Tree\+Vec.\+h}}

Created on\+: Oct 14, 2011 Author\+: bmetcalf 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_tree_simple_vec_af1dbf59aff92eb82962d32d0d13ad51d}\label{class_tree_simple_vec_af1dbf59aff92eb82962d32d0d13ad51d}} 
\index{TreeSimpleVec$<$ T $>$@{TreeSimpleVec$<$ T $>$}!TreeSimpleVec@{TreeSimpleVec}}
\index{TreeSimpleVec@{TreeSimpleVec}!TreeSimpleVec$<$ T $>$@{TreeSimpleVec$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{TreeSimpleVec()}{TreeSimpleVec()}}
{\footnotesize\ttfamily template$<$class T $>$ \\
\mbox{\hyperlink{class_tree_simple_vec}{Tree\+Simple\+Vec}}$<$ T $>$\+::\mbox{\hyperlink{class_tree_simple_vec}{Tree\+Simple\+Vec}} (\begin{DoxyParamCaption}\item[{T $\ast$}]{xpt,  }\item[{Index\+Type}]{Npoints,  }\item[{int}]{bucket = {\ttfamily 5},  }\item[{int}]{dimensions = {\ttfamily 2},  }\item[{bool}]{median = {\ttfamily true},  }\item[{Pos\+Type $\ast$($\ast$)(T \&)}]{Mypos = {\ttfamily \mbox{[}\mbox{]}(T\&~in)\{return~in.x;\}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyParams}{Parameters}
{\em xpt} & array of object, xpt\mbox{[}i\mbox{]}.x\mbox{[}0...dimensions-\/1\mbox{]} must exist or Mypos must be specified \\
\hline
{\em Npoints} & number of object in array \\
\hline
{\em bucket} & number of points in leaves of tree \\
\hline
{\em dimensions} & dimension of space \\
\hline
{\em median} & whether to use a median cut or a space cut in splitting branches \\
\hline
{\em Mypos} & function that takes the object T and returns a pointer to its position, default is t.\+x\mbox{[}\mbox{]} \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_tree_simple_vec_a15d8887300259ba921e63467eb5eb1cb}\label{class_tree_simple_vec_a15d8887300259ba921e63467eb5eb1cb}} 
\index{TreeSimpleVec$<$ T $>$@{TreeSimpleVec$<$ T $>$}!\_NearestNeighbors@{\_NearestNeighbors}}
\index{\_NearestNeighbors@{\_NearestNeighbors}!TreeSimpleVec$<$ T $>$@{TreeSimpleVec$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{\_NearestNeighbors()}{\_NearestNeighbors()}}
{\footnotesize\ttfamily template$<$class T $>$ \\
void \mbox{\hyperlink{class_tree_simple_vec}{Tree\+Simple\+Vec}}$<$ T $>$\+::\+\_\+\+Nearest\+Neighbors (\begin{DoxyParamCaption}\item[{Pos\+Type $\ast$}]{ray,  }\item[{int}]{Nneighbors,  }\item[{unsigned long $\ast$}]{neighbors,  }\item[{Pos\+Type $\ast$}]{rneighbors }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

if ray found in second child go back to first to search for neighbors\mbox{\Hypertarget{class_tree_simple_vec_a65105a08cf9d4c9922672e1022de6348}\label{class_tree_simple_vec_a65105a08cf9d4c9922672e1022de6348}} 
\index{TreeSimpleVec$<$ T $>$@{TreeSimpleVec$<$ T $>$}!\_PointsWithin@{\_PointsWithin}}
\index{\_PointsWithin@{\_PointsWithin}!TreeSimpleVec$<$ T $>$@{TreeSimpleVec$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{\_PointsWithin()}{\_PointsWithin()}}
{\footnotesize\ttfamily template$<$class T $>$ \\
void \mbox{\hyperlink{class_tree_simple_vec}{Tree\+Simple\+Vec}}$<$ T $>$\+::\+\_\+\+Points\+Within (\begin{DoxyParamCaption}\item[{Pos\+Type $\ast$}]{ray,  }\item[{float $\ast$}]{rmax,  }\item[{std\+::list$<$ unsigned long $>$ \&}]{neighborlist }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Used in Points\+Within\+Kist() to walk tree. \mbox{\Hypertarget{class_tree_simple_vec_a1b60bd3d296df8aa00825b5657be8902}\label{class_tree_simple_vec_a1b60bd3d296df8aa00825b5657be8902}} 
\index{TreeSimpleVec$<$ T $>$@{TreeSimpleVec$<$ T $>$}!NearestNeighbors@{NearestNeighbors}}
\index{NearestNeighbors@{NearestNeighbors}!TreeSimpleVec$<$ T $>$@{TreeSimpleVec$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{NearestNeighbors()}{NearestNeighbors()}}
{\footnotesize\ttfamily template$<$class T $>$ \\
void \mbox{\hyperlink{class_tree_simple_vec}{Tree\+Simple\+Vec}}$<$ T $>$\+::Nearest\+Neighbors (\begin{DoxyParamCaption}\item[{Pos\+Type $\ast$}]{ray,  }\item[{int}]{Nneighbors,  }\item[{float $\ast$}]{radius,  }\item[{Index\+Type $\ast$}]{neighborsout }\end{DoxyParamCaption})}



Finds the nearest N neighbors and puts their index numbers in an array, also returns the distance to the Nth neighbor for calculating smoothing. 

finds the nearest neighbors in whatever dimensions tree is defined in 
\begin{DoxyParams}{Parameters}
{\em ray} & position \\
\hline
{\em Nneighbors} & number of neighbors to be found \\
\hline
{\em radius} & distance of furthest neighbor found from ray\mbox{[}\mbox{]} \\
\hline
{\em neighborsout} & list of the indexes ofx the neighbors \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
S\+Lsim\+Lib/include/simple\+Tree\+Vec.\+h\end{DoxyCompactItemize}
