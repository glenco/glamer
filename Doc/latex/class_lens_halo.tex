\doxysection{Lens\+Halo Class Reference}
\hypertarget{class_lens_halo}{}\label{class_lens_halo}\index{LensHalo@{LensHalo}}


A base class for all types of lensing "{}halos"{} which are any mass distribution that cause lensing.  




{\ttfamily \#include $<$lens\+\_\+halos.\+h$>$}



Inheritance diagram for Lens\+Halo\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_lens_halo__inherit__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_lens_halo_a813618bcd6d1f26dafa49a2e509a37db}\label{class_lens_halo_a813618bcd6d1f26dafa49a2e509a37db} 
{\bfseries Lens\+Halo} ()
\begin{DoxyCompactList}\small\item\em Shell constructor. \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a06aec4e2db7afdc57294332cbb93cdff}\label{class_lens_halo_a06aec4e2db7afdc57294332cbb93cdff} 
{\bfseries Lens\+Halo} (Pos\+Type z, const \mbox{\hyperlink{class_c_o_s_m_o_l_o_g_y}{COSMOLOGY}} \&cosmo)
\item 
\mbox{\hyperlink{class_lens_halo_a0b96fdb10f3a10a2b65085fa5883ec1f}{Lens\+Halo}} (const \mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \&h)
\item 
\Hypertarget{class_lens_halo_abf57d13c51d4fd183e21f960b0decf6c}\label{class_lens_halo_abf57d13c51d4fd183e21f960b0decf6c} 
{\bfseries Lens\+Halo} (\mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \&\&h)
\item 
\mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \& \mbox{\hyperlink{class_lens_halo_aaa135c7e56a24de4a1dee76604a44141}{operator=}} (const \mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \&h)
\item 
\mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \& \mbox{\hyperlink{class_lens_halo_a9be986a94c12228b2e5c173c1cf5d85c}{operator=}} (\mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \&\&h)
\item 
float \mbox{\hyperlink{class_lens_halo_a6aee0c9abc88ca6d3d8ed9e44a18e6e3}{get\+\_\+\+Rmax}} () const
\begin{DoxyCompactList}\small\item\em this can be used to tag types of Lens\+Halos \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a2616defcc052fd9ab1e568cfd8a5c9a9}\label{class_lens_halo_a2616defcc052fd9ab1e568cfd8a5c9a9} 
float {\bfseries get\+Rsize} () const
\begin{DoxyCompactList}\small\item\em get the Rsize which is the size of the halo in Mpc \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a5f7d67a341a08313a8920a1b8bd3d8bf}\label{class_lens_halo_a5f7d67a341a08313a8920a1b8bd3d8bf} 
float {\bfseries get\+\_\+mass} () const
\begin{DoxyCompactList}\small\item\em get the mass solar units \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_ad13e77713ccce39fd925e810063cbae3}\label{class_lens_halo_ad13e77713ccce39fd925e810063cbae3} 
float {\bfseries get\+\_\+rscale} () const
\begin{DoxyCompactList}\small\item\em get the scale radius in Mpc \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a01ce57465ce8d14670804096aee578c7}\label{class_lens_halo_a01ce57465ce8d14670804096aee578c7} 
Pos\+Type {\bfseries get\+Zlens} () const
\begin{DoxyCompactList}\small\item\em get the redshift \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a04e4a630ac49ff76831e06fb1ab0d669}\label{class_lens_halo_a04e4a630ac49ff76831e06fb1ab0d669} 
void {\bfseries getX} (Pos\+Type \texorpdfstring{$\ast$}{*}My\+Pos\+Halo) const
\begin{DoxyCompactList}\small\item\em get the position of the Halo in physical Mpc on the lens plane \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a1fe8d2ac9d3b276cc5c473107a999b2d}\label{class_lens_halo_a1fe8d2ac9d3b276cc5c473107a999b2d} 
Pos\+Type {\bfseries operator\mbox{[}$\,$\mbox{]}} (int i) const
\begin{DoxyCompactList}\small\item\em returns position of the Halo in physical Mpc on the lens plane \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a4ad6ef27f481ed707031b3c5f9f5e435}\label{class_lens_halo_a4ad6ef27f481ed707031b3c5f9f5e435} 
void {\bfseries set\+Theta} (Pos\+Type PosX, Pos\+Type PosY)
\begin{DoxyCompactList}\small\item\em set the position of the Halo in radians \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a5a36eb5a13d944c34ad0cd56b1b8e598}\label{class_lens_halo_a5a36eb5a13d944c34ad0cd56b1b8e598} 
void {\bfseries set\+Theta} (Pos\+Type \texorpdfstring{$\ast$}{*}Pos\+XY)
\begin{DoxyCompactList}\small\item\em set the position of the Halo in radians \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a9abe01ec8275570e899e3675da663981}\label{class_lens_halo_a9abe01ec8275570e899e3675da663981} 
void {\bfseries set\+Theta} (const \mbox{\hyperlink{struct_point__2d}{Point\+\_\+2d}} \&p)
\begin{DoxyCompactList}\small\item\em set the position of the Halo in radians \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a65304f5eeabf9d8e0209691e3ee16820}\label{class_lens_halo_a65304f5eeabf9d8e0209691e3ee16820} 
void {\bfseries get\+Theta} (Pos\+Type \texorpdfstring{$\ast$}{*}My\+Pos\+Halo) const
\begin{DoxyCompactList}\small\item\em get the position of the Halo in radians \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a88159eac5a61762fffca24e508c2dccd}\label{class_lens_halo_a88159eac5a61762fffca24e508c2dccd} 
void {\bfseries set\+Dist} (\mbox{\hyperlink{class_c_o_s_m_o_l_o_g_y}{COSMOLOGY}} \&co)
\begin{DoxyCompactList}\small\item\em Set the angular size distance to the halo. This should be the distance to the lens plane. \end{DoxyCompactList}\item 
Pos\+Type \mbox{\hyperlink{class_lens_halo_a50bd89dc5d7d11932c757eb4e962b6ba}{get\+Dist}} () const
\item 
void \mbox{\hyperlink{class_lens_halo_a81938111b0d90611edcff8b2d4dd8432}{display\+Pos}} ()
\item 
virtual void \mbox{\hyperlink{class_lens_halo_a645d2cbd9e686ce0d061d83d28c88eb0}{init\+From\+File}} (float my\+\_\+mass, long \texorpdfstring{$\ast$}{*}seed, float vmax, float r\+\_\+halfmass)
\begin{DoxyCompactList}\small\item\em initialize from a simulation file \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_lens_halo_a8b31bdf68c61572e7a32dc3da6b139c8}{init\+From\+Mass\+Func}} (float my\+\_\+mass, float my\+\_\+\+Rsize, float my\+\_\+rscale, Pos\+Type my\+\_\+slope, long \texorpdfstring{$\ast$}{*}seed)
\begin{DoxyCompactList}\small\item\em initialize from a mass function \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_ac43654064fefbfecd0d7c9c1887fadad}\label{class_lens_halo_ac43654064fefbfecd0d7c9c1887fadad} 
virtual void {\bfseries set\+\_\+\+Rsize\+Rmax} (float my\+\_\+\+Rsize)
\begin{DoxyCompactList}\small\item\em set Rsize (in Mpc) and reset Rmax \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a55b64efb4df0a26188ee558afa90d6bf}\label{class_lens_halo_a55b64efb4df0a26188ee558afa90d6bf} 
void {\bfseries set\+\_\+mass} (float my\+\_\+mass)
\begin{DoxyCompactList}\small\item\em set mass (in solar masses) \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a68e3f2ba68f2d93202985fb317cf0a14}\label{class_lens_halo_a68e3f2ba68f2d93202985fb317cf0a14} 
virtual void {\bfseries set\+\_\+rscale} (float my\+\_\+rscale)
\begin{DoxyCompactList}\small\item\em set scale radius (in Mpc) \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a3c28739f7088e24bda7d67b14f50d4ba}\label{class_lens_halo_a3c28739f7088e24bda7d67b14f50d4ba} 
void {\bfseries set\+Zlens} (Pos\+Type my\+\_\+zlens, const \mbox{\hyperlink{class_c_o_s_m_o_l_o_g_y}{COSMOLOGY}} \&cosmo)
\begin{DoxyCompactList}\small\item\em set redshift \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a89dd764c7438427deb3ec033a65e980a}\label{class_lens_halo_a89dd764c7438427deb3ec033a65e980a} 
void {\bfseries set\+Rsize} (Pos\+Type R)
\item 
\Hypertarget{class_lens_halo_a8ad827716b2ab04b56e727aaa38d4735}\label{class_lens_halo_a8ad827716b2ab04b56e727aaa38d4735} 
void {\bfseries set\+Zlens\+Dist} (Pos\+Type my\+\_\+zlens, const \mbox{\hyperlink{class_c_o_s_m_o_l_o_g_y}{COSMOLOGY}} \&cos)
\item 
\Hypertarget{class_lens_halo_aa0393e6c3a72ecdc949b77ff15d47642}\label{class_lens_halo_aa0393e6c3a72ecdc949b77ff15d47642} 
void {\bfseries set\+Mass} (Pos\+Type m)
\item 
virtual void \mbox{\hyperlink{class_lens_halo_ababdb795dfb3955b14078a8fe777d608}{set\+\_\+slope}} (Pos\+Type my\+\_\+slope)
\begin{DoxyCompactList}\small\item\em set slope \end{DoxyCompactList}\item 
virtual Pos\+Type \mbox{\hyperlink{class_lens_halo_a2deb914a879890de10a76323cf056aae}{get\+\_\+slope}} ()
\begin{DoxyCompactList}\small\item\em get slope \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a122a8066d3746da81768627a19aaa69c}\label{class_lens_halo_a122a8066d3746da81768627a19aaa69c} 
bool {\bfseries get\+\_\+flag\+\_\+elliptical} ()
\begin{DoxyCompactList}\small\item\em flag=True if halo elliptical \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a7a28a3bd97f3e6482c0d55ab88fdc2d2}\label{class_lens_halo_a7a28a3bd97f3e6482c0d55ab88fdc2d2} 
void {\bfseries set\+\_\+flag\+\_\+elliptical} (bool ell)
\item 
\Hypertarget{class_lens_halo_aeb0c4126de81f264011e7d766035b8f2}\label{class_lens_halo_aeb0c4126de81f264011e7d766035b8f2} 
bool {\bfseries get\+\_\+switch\+\_\+flag} ()
\item 
\Hypertarget{class_lens_halo_a907cc0b6b9bc12f90ed7e61a674dff26}\label{class_lens_halo_a907cc0b6b9bc12f90ed7e61a674dff26} 
void {\bfseries set\+\_\+switch\+\_\+flag} (bool swt)
\begin{DoxyCompactList}\small\item\em flag permits case distinction in force\+\_\+halo\+\_\+asym for elliptical NFWs only (get\+\_\+switch\+\_\+flag==true), in latter case the mass\+\_\+norm\+\_\+factor\texorpdfstring{$^\wedge$}{\string^}2 is used instead of mass\+\_\+norm\+\_\+factor. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_lens_halo_ae93d20b6fdeaaab7d1f0a61a13e6d644}{set\+Cosmology}} (const \mbox{\hyperlink{class_c_o_s_m_o_l_o_g_y}{COSMOLOGY}} \&cosmo)
\begin{DoxyCompactList}\small\item\em used for elliptical NFWs only, in that case get\+\_\+switch\+\_\+flag==true \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_lens_halo_a460de105e52520a328d5912455c02fdd}{force\+\_\+halo}} (Pos\+Type \texorpdfstring{$\ast$}{*}alpha, Kappa\+Type \texorpdfstring{$\ast$}{*}kappa, Kappa\+Type \texorpdfstring{$\ast$}{*}gamma, Kappa\+Type \texorpdfstring{$\ast$}{*}phi, Pos\+Type const \texorpdfstring{$\ast$}{*}xcm, bool subtract\+\_\+point=false, Pos\+Type screening=1.\+0)
\item 
bool \mbox{\hyperlink{class_lens_halo_a9125a5a6f4685d157dfbeacd00433ab2}{compareZ}} (Pos\+Type z)
\begin{DoxyCompactList}\small\item\em force tree calculation for stars \end{DoxyCompactList}\item 
\mbox{\hyperlink{_input_params_8h_abeeb8c8413457c56ac46767a52fc2618}{Ellip\+Method}} \mbox{\hyperlink{class_lens_halo_ae4e6a8b770a38df28c9bee8799385923}{get\+Ellip\+Method}} () const
\begin{DoxyCompactList}\small\item\em stars \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_ae18bfdaaa7c9e23ac38a6c80c46bbe74}\label{class_lens_halo_ae18bfdaaa7c9e23ac38a6c80c46bbe74} 
std\+::vector$<$ double $>$ {\bfseries get\+\_\+mod} ()
\begin{DoxyCompactList}\small\item\em get vector of Fourier modes, which are calculated in the constructors of the Lens\+Haloes when main\+\_\+ellip\+\_\+method is set to \textquotesingle{}Fourier\textquotesingle{} \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a314019a0eac186c6fc7aca2e466ffd46}\label{class_lens_halo_a314019a0eac186c6fc7aca2e466ffd46} 
virtual std\+::size\+\_\+t {\bfseries Nparams} () const
\begin{DoxyCompactList}\small\item\em get the number of halo parameters \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a7c6257df5c75a20d7f306cc9f4980a52}\label{class_lens_halo_a7c6257df5c75a20d7f306cc9f4980a52} 
virtual Pos\+Type {\bfseries get\+Param} (std\+::size\+\_\+t p) const
\begin{DoxyCompactList}\small\item\em get the value of a scaled halo parameter by index \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a53aa267154c7a5e2b60647be2d585bb9}\label{class_lens_halo_a53aa267154c7a5e2b60647be2d585bb9} 
virtual Pos\+Type {\bfseries set\+Param} (std\+::size\+\_\+t p, Pos\+Type value)
\begin{DoxyCompactList}\small\item\em set the value of a scaled halo parameter by index \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_ab75f44fbd91c08d9f2bc03b5fe9d649a}\label{class_lens_halo_ab75f44fbd91c08d9f2bc03b5fe9d649a} 
virtual void {\bfseries print\+CSV} (std\+::ostream \&, bool header=false) const
\begin{DoxyCompactList}\small\item\em print the halo parameters in CSV format \end{DoxyCompactList}\item 
Pos\+Type \mbox{\hyperlink{class_lens_halo_a7184a202e39fac7cf8f7d0436abdc982}{Mass\+By2\+DIntegation}} (Pos\+Type R)
\begin{DoxyCompactList}\small\item\em Prints star parameters; if show\+\_\+stars is true, prints data for single stars. \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_aeac398d7784e8a879eebeb2174349d61}\label{class_lens_halo_aeac398d7784e8a879eebeb2174349d61} 
Pos\+Type {\bfseries Mass\+By1\+DIntegation} (Pos\+Type R)
\begin{DoxyCompactList}\small\item\em calculates the mass within radius R by integating alpha on a ring and using Gauss\textquotesingle{} law, used only for testing \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_accfed225ceb5c6684ac983ae89adfebd}\label{class_lens_halo_accfed225ceb5c6684ac983ae89adfebd} 
Pos\+Type {\bfseries test\+\_\+average\+\_\+gt} (Pos\+Type R)
\begin{DoxyCompactList}\small\item\em calculates the average gamma\+\_\+t for \doxylink{class_lens_halo_a9b357894d8d644741be0cec08e45bb30}{Lens\+Halo\+::test()} \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a623515f1a7b01a1198ff8707143a1ab2}\label{class_lens_halo_a623515f1a7b01a1198ff8707143a1ab2} 
Pos\+Type {\bfseries test\+\_\+average\+\_\+kappa} (Pos\+Type R)
\item 
\Hypertarget{class_lens_halo_a99be51dee88c24dcde18aec921ba0623}\label{class_lens_halo_a99be51dee88c24dcde18aec921ba0623} 
void {\bfseries set\+\_\+norm\+\_\+factor} ()
\item 
\Hypertarget{class_lens_halo_ab67216d6042f33cd8d8482e6fceb8b39}\label{class_lens_halo_ab67216d6042f33cd8d8482e6fceb8b39} 
void {\bfseries set\+\_\+rsize} (float my\+\_\+rsize)
\begin{DoxyCompactList}\small\item\em set radius rsize beyond which interpolation values between alpha\+\_\+ellip and alpha\+\_\+iso are computed \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_acdadaa32362226374fb01db7ca1dd859}\label{class_lens_halo_acdadaa32362226374fb01db7ca1dd859} 
float {\bfseries get\+\_\+rsize} ()
\item 
bool \mbox{\hyperlink{class_lens_halo_a9b357894d8d644741be0cec08e45bb30}{test}} ()
\begin{DoxyCompactList}\small\item\em perform some basic consistancy checks for halo \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_ab9c715bf4421f34be79893ac18ae7aeb}\label{class_lens_halo_ab9c715bf4421f34be79893ac18ae7aeb} 
size\+\_\+t {\bfseries get\+ID} () const
\item 
\Hypertarget{class_lens_halo_a7d166dd18b6d418c297ff41299ed2403}\label{class_lens_halo_a7d166dd18b6d418c297ff41299ed2403} 
void {\bfseries set\+ID} (size\+\_\+t id)
\item 
\Hypertarget{class_lens_halo_a688f0421e457ac4b206ad61be3d0863c}\label{class_lens_halo_a688f0421e457ac4b206ad61be3d0863c} 
Pos\+Type {\bfseries renormalization} (Pos\+Type r\+\_\+max)
\item 
\mbox{\hyperlink{class_pixel_map}{Pixel\+Map}}$<$ double $>$ \mbox{\hyperlink{class_lens_halo_a0652d15d437d73b38dc8b057ed2c025f}{map\+\_\+variables}} (\mbox{\hyperlink{standard_8h_a73d5f5042d9b38366d0b3781d199f9e7}{Lensing\+Variable}} lensvar, size\+\_\+t Nx, size\+\_\+t Ny, double res)
\begin{DoxyCompactList}\small\item\em Map a \doxylink{class_pixel_map}{Pixel\+Map} of the surface, density, potential and potential gradient centred on (0,0) in \doxylink{class_lens_halo}{Lens\+Halo} coordinates. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_lens_halo_a37bed2edc60ce4932c7fc854fe972f01}\label{class_lens_halo_a37bed2edc60ce4932c7fc854fe972f01} 
static const int {\bfseries get\+\_\+\+Nmod} ()
\begin{DoxyCompactList}\small\item\em get length of mod array, which is Nmod. Not to be confused with get\+Nmodes in the class \doxylink{class_lens_halo_fit}{Lens\+Halo\+Fit} \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_lens_halo_ab1ebcbc39317e9b6bbbdb32821fe49b2}\label{class_lens_halo_ab1ebcbc39317e9b6bbbdb32821fe49b2} 
int {\bfseries tag} =0
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_lens_halo_a3e73f06df4d909f1bff909016cc839b2}\label{class_lens_halo_a3e73f06df4d909f1bff909016cc839b2} 
Pos\+Type {\bfseries alpha\+\_\+int} (Pos\+Type x) const
\begin{DoxyCompactList}\small\item\em Calculates potential (phi\+\_\+int) from alpha\+\_\+h. If flag is\+\_\+alphah\+\_\+a\+\_\+table is True it takes and integrates directly the gfunction instead of alpha\+\_\+h. The gfunction is used for the Interpolation\+Table used in alpha\+\_\+h. Setting the flag to False speeds up the calculation of phi\+\_\+h. \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a9bdcebc37b6378468bfd25e6a888d076}\label{class_lens_halo_a9bdcebc37b6378468bfd25e6a888d076} 
Pos\+Type {\bfseries norm\+\_\+int} (Pos\+Type r\+\_\+max)
\item 
void \mbox{\hyperlink{class_lens_halo_a374d199861689b8186c04d29bf92d6a2}{force\+\_\+halo\+\_\+sym}} (Pos\+Type \texorpdfstring{$\ast$}{*}alpha, Kappa\+Type \texorpdfstring{$\ast$}{*}kappa, Kappa\+Type \texorpdfstring{$\ast$}{*}gamma, Kappa\+Type \texorpdfstring{$\ast$}{*}phi, Pos\+Type const \texorpdfstring{$\ast$}{*}xcm, bool subtract\+\_\+point=false, Pos\+Type screening=1.\+0)
\begin{DoxyCompactList}\small\item\em returns the lensing quantities of a ray in center of mass coordinates for a symmetric halo \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_lens_halo_a78cc531d36104d72bec891424aba9fcb}{force\+\_\+halo\+\_\+asym}} (Pos\+Type \texorpdfstring{$\ast$}{*}alpha, Kappa\+Type \texorpdfstring{$\ast$}{*}kappa, Kappa\+Type \texorpdfstring{$\ast$}{*}gamma, Kappa\+Type \texorpdfstring{$\ast$}{*}phi, Pos\+Type const \texorpdfstring{$\ast$}{*}xcm, bool subtract\+\_\+point=false, Pos\+Type screening=1.\+0)
\item 
\Hypertarget{class_lens_halo_afa55fc41d60760fe22be8ae43dc01f83}\label{class_lens_halo_afa55fc41d60760fe22be8ae43dc01f83} 
bool {\bfseries force\+\_\+point} (Pos\+Type \texorpdfstring{$\ast$}{*}alpha, Kappa\+Type \texorpdfstring{$\ast$}{*}kappa, Kappa\+Type \texorpdfstring{$\ast$}{*}gamma, Kappa\+Type \texorpdfstring{$\ast$}{*}phi, Pos\+Type const \texorpdfstring{$\ast$}{*}xcm, Pos\+Type rcm2, bool subtract\+\_\+point, Pos\+Type screening)
\item 
\Hypertarget{class_lens_halo_a187b1e7e055d69419bf214ebf588af6d}\label{class_lens_halo_a187b1e7e055d69419bf214ebf588af6d} 
void {\bfseries assign\+Params} (\mbox{\hyperlink{class_input_params}{Input\+Params}} \&params, bool need\+Rsize)
\begin{DoxyCompactList}\small\item\em read in parameters from a parameterfile in \doxylink{class_input_params}{Input\+Params} params \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_lens_halo_a6a8cf22c76bab7821b1b0ee3b50ea75f}{error\+\_\+message1}} (std\+::string name, std\+::string filename)
\begin{DoxyCompactList}\small\item\em read in star parameters. This is valid for all halos and not overloaded. \end{DoxyCompactList}\item 
virtual Pos\+Type \mbox{\hyperlink{class_lens_halo_a9295b7b1d0a66b3742a81ead5bf2a863}{alpha\+\_\+h}} (Pos\+Type x) const
\item 
\Hypertarget{class_lens_halo_afc3208eaa2387188d7b993492e7fc943}\label{class_lens_halo_afc3208eaa2387188d7b993492e7fc943} 
virtual Kappa\+Type {\bfseries kappa\+\_\+h} (Pos\+Type x) const
\item 
\Hypertarget{class_lens_halo_a10a4225fcf4ca10382387d7d5e3fd9a8}\label{class_lens_halo_a10a4225fcf4ca10382387d7d5e3fd9a8} 
virtual Kappa\+Type {\bfseries gamma\+\_\+h} (Pos\+Type x) const
\item 
\Hypertarget{class_lens_halo_a5df62ccc11cfed7166c87c2673898d38}\label{class_lens_halo_a5df62ccc11cfed7166c87c2673898d38} 
virtual Kappa\+Type {\bfseries phi\+\_\+h} (Pos\+Type x) const
\item 
\Hypertarget{class_lens_halo_a803e7664baf9e8013c50186071f16eff}\label{class_lens_halo_a803e7664baf9e8013c50186071f16eff} 
virtual Kappa\+Type {\bfseries phi\+\_\+int} (Pos\+Type x) const
\item 
\Hypertarget{class_lens_halo_af80e777cff1d466b05b6a8c4ad76fa21}\label{class_lens_halo_af80e777cff1d466b05b6a8c4ad76fa21} 
virtual Pos\+Type {\bfseries ffunction} (Pos\+Type x) const
\item 
\Hypertarget{class_lens_halo_ade01d4754df1d7abed132aa5a12d2d27}\label{class_lens_halo_ade01d4754df1d7abed132aa5a12d2d27} 
virtual Pos\+Type {\bfseries gfunction} (Pos\+Type x) const
\item 
\Hypertarget{class_lens_halo_afd32cc0fabbd80618c7784651d155650}\label{class_lens_halo_afd32cc0fabbd80618c7784651d155650} 
virtual Pos\+Type {\bfseries dgfunctiondx} (Pos\+Type x)
\item 
\Hypertarget{class_lens_halo_ad07323eaf1b4c6e29c6cc249b71ea726}\label{class_lens_halo_ad07323eaf1b4c6e29c6cc249b71ea726} 
virtual Pos\+Type {\bfseries bfunction} (Pos\+Type x)
\item 
\Hypertarget{class_lens_halo_ae22f99b517eec14091ec3eb663591bb7}\label{class_lens_halo_ae22f99b517eec14091ec3eb663591bb7} 
virtual Pos\+Type {\bfseries dhfunction} (Pos\+Type x) const
\item 
\Hypertarget{class_lens_halo_a8fd4e604b9e28ee87e716be048a3145a}\label{class_lens_halo_a8fd4e604b9e28ee87e716be048a3145a} 
virtual Pos\+Type {\bfseries ddhfunction} (Pos\+Type x, bool numerical)
\item 
\Hypertarget{class_lens_halo_afed87cfb38a39271a05907368cd0eb22}\label{class_lens_halo_afed87cfb38a39271a05907368cd0eb22} 
virtual Pos\+Type {\bfseries dddhfunction} (Pos\+Type x, bool numerical)
\item 
\Hypertarget{class_lens_halo_ad5a6229ceef156edf7eb74e3aef9102d}\label{class_lens_halo_ad5a6229ceef156edf7eb74e3aef9102d} 
virtual Pos\+Type {\bfseries bnumfunction} (Pos\+Type x)
\item 
\Hypertarget{class_lens_halo_a66436078b5f980bddfdd29342c449a28}\label{class_lens_halo_a66436078b5f980bddfdd29342c449a28} 
virtual Pos\+Type {\bfseries dbfunction} (Pos\+Type x)
\item 
\Hypertarget{class_lens_halo_a82da8118fbc40376740cb196cd7ef58d}\label{class_lens_halo_a82da8118fbc40376740cb196cd7ef58d} 
virtual Pos\+Type {\bfseries ddbfunction} (Pos\+Type x)
\item 
virtual Pos\+Type \mbox{\hyperlink{class_lens_halo_afeafc7e19741a79fdf5b2d1e3b21f2ee}{dmoddb}} (int whichmod, Pos\+Type q, Pos\+Type b)
\item 
\Hypertarget{class_lens_halo_a024a372d7a18f3a6f6310f96d79896c2}\label{class_lens_halo_a024a372d7a18f3a6f6310f96d79896c2} 
virtual Pos\+Type {\bfseries ddmoddb} (int whichmod, Pos\+Type q, Pos\+Type b)
\item 
\Hypertarget{class_lens_halo_a14d2007d76887dd9318aa455bf49451c}\label{class_lens_halo_a14d2007d76887dd9318aa455bf49451c} 
virtual Pos\+Type {\bfseries dmoddq} (int whichmod, Pos\+Type q, Pos\+Type b)
\item 
\Hypertarget{class_lens_halo_a8064d1ab8a14d28c058e81715fb88e4b}\label{class_lens_halo_a8064d1ab8a14d28c058e81715fb88e4b} 
virtual Pos\+Type {\bfseries ddmoddq} (int whichmod, Pos\+Type q, Pos\+Type b)
\item 
void \mbox{\hyperlink{class_lens_halo_a825833ac8df009db76b5e4b4b4e140f9}{faxial}} (Pos\+Type x, Pos\+Type theta, Pos\+Type f\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em If set to true the correct normalization is applied for asymmetric NFW profiles, the mass\+\_\+norm\+\_\+factor is different for the other halos. \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_afcf1b69b48f17cfc7080b8cdf7ac8f1e}\label{class_lens_halo_afcf1b69b48f17cfc7080b8cdf7ac8f1e} 
void {\bfseries faxial0} (Pos\+Type theta, Pos\+Type f0\mbox{[}$\,$\mbox{]})
\item 
\Hypertarget{class_lens_halo_a79e0a816d35fd07f278f439cb2ce3f79}\label{class_lens_halo_a79e0a816d35fd07f278f439cb2ce3f79} 
void {\bfseries faxial1} (Pos\+Type theta, Pos\+Type f1\mbox{[}$\,$\mbox{]})
\item 
\Hypertarget{class_lens_halo_ab8fd1633aa0e64d5a05a38946735fa9c}\label{class_lens_halo_ab8fd1633aa0e64d5a05a38946735fa9c} 
void {\bfseries faxial2} (Pos\+Type theta, Pos\+Type f2\mbox{[}$\,$\mbox{]})
\item 
\Hypertarget{class_lens_halo_aea13e7ff3d95622bbb38fffd672045fa}\label{class_lens_halo_aea13e7ff3d95622bbb38fffd672045fa} 
void {\bfseries gradial} (Pos\+Type r, Pos\+Type g\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Derivatives of the potential damping factor with respect to r ... TODO\+: come up with a better damping faction. \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_af1890cf8ca25442b8aff73cbd000d6d3}\label{class_lens_halo_af1890cf8ca25442b8aff73cbd000d6d3} 
void {\bfseries gradial2} (Pos\+Type r, Pos\+Type mu, Pos\+Type sigma, Pos\+Type g\mbox{[}$\,$\mbox{]})
\item 
void \mbox{\hyperlink{class_lens_halo_a70d44bd2ef4edee5fb918a61cf5d3fcf}{felliptical}} (Pos\+Type x, Pos\+Type q, Pos\+Type theta, Pos\+Type f\mbox{[}$\,$\mbox{]}, Pos\+Type g\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Calculate the derivatives of the G function = r\texorpdfstring{$\ast$}{*}sqrt(cos(theta)\texorpdfstring{$^\wedge$}{\string^}2 + q(r)\texorpdfstring{$^\wedge$}{\string^}2 sin(theta)) \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a3bc0658070c104766a8803ab16bc9d8c}\label{class_lens_halo_a3bc0658070c104766a8803ab16bc9d8c} 
virtual void {\bfseries gamma\+\_\+asym} (Pos\+Type x, Pos\+Type theta, Pos\+Type gamma\mbox{[}$\,$\mbox{]})
\item 
virtual Pos\+Type \mbox{\hyperlink{class_lens_halo_ac3f16aeffae590925d115799698ebaf4}{kappa\+\_\+asym}} (Pos\+Type x, Pos\+Type theta)
\item 
virtual void \mbox{\hyperlink{class_lens_halo_a7e68cb08c90a52d21f6af474acfc20e2}{alphakappagamma\+\_\+asym}} (Pos\+Type x, Pos\+Type theta, Pos\+Type alpha\mbox{[}$\,$\mbox{]}, Pos\+Type \texorpdfstring{$\ast$}{*}kappa, Pos\+Type gamma\mbox{[}$\,$\mbox{]}, Pos\+Type \texorpdfstring{$\ast$}{*}phi)
\begin{DoxyCompactList}\small\item\em Pseudo-\/elliptical profiles by Phi(\+G)-\/Ansatz. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_lens_halo_ab90367cd516c00c93e8608894732e965}{alphakappagamma1asym}} (Pos\+Type x, Pos\+Type theta, Pos\+Type alpha\mbox{[}2\mbox{]}, Pos\+Type \texorpdfstring{$\ast$}{*}kappa, Pos\+Type gamma\mbox{[}$\,$\mbox{]}, Pos\+Type \texorpdfstring{$\ast$}{*}phi)
\begin{DoxyCompactList}\small\item\em Elliptical profiles by Fourier-\/\+Ansatz. \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a22f5eff85c4091520e20937fbbdedb89}\label{class_lens_halo_a22f5eff85c4091520e20937fbbdedb89} 
virtual void {\bfseries alphakappagamma2asym} (Pos\+Type x, Pos\+Type theta, Pos\+Type alpha\mbox{[}2\mbox{]}, Pos\+Type \texorpdfstring{$\ast$}{*}kappa, Pos\+Type gamma\mbox{[}$\,$\mbox{]}, Pos\+Type \texorpdfstring{$\ast$}{*}phi)
\item 
\Hypertarget{class_lens_halo_a4ec90ed70c99fec8f77d4aced3655f71}\label{class_lens_halo_a4ec90ed70c99fec8f77d4aced3655f71} 
virtual void {\bfseries alphakappagamma3asym} (Pos\+Type x, Pos\+Type theta, Pos\+Type alpha\mbox{[}2\mbox{]}, Pos\+Type \texorpdfstring{$\ast$}{*}kappa, Pos\+Type gamma\mbox{[}$\,$\mbox{]}, Pos\+Type \texorpdfstring{$\ast$}{*}phi)
\item 
\Hypertarget{class_lens_halo_a6321303e6a1b6f6085ebf2c4160e540a}\label{class_lens_halo_a6321303e6a1b6f6085ebf2c4160e540a} 
virtual Pos\+Type {\bfseries alpha\+\_\+ell} (Pos\+Type x, Pos\+Type theta)
\item 
\Hypertarget{class_lens_halo_aea2b2ded8c4b6a3b65df46c1fc265b97}\label{class_lens_halo_aea2b2ded8c4b6a3b65df46c1fc265b97} 
double {\bfseries fourier\+\_\+coeff} (double n, double q, double beta)
\begin{DoxyCompactList}\small\item\em Calculates fourier-\/coefficients for power law halo. \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a9eeb27b238f1f360deabe74bee8a6da7}\label{class_lens_halo_a9eeb27b238f1f360deabe74bee8a6da7} 
double {\bfseries IDAXDM} (double lambda, double a2, double b2, double x\mbox{[}$\,$\mbox{]}, double rmax, double mo)
\item 
\Hypertarget{class_lens_halo_a19fe754aca7d3f257f20b17e1269e72f}\label{class_lens_halo_a19fe754aca7d3f257f20b17e1269e72f} 
double {\bfseries IDAYDM} (double lambda, double a2, double b2, double x\mbox{[}$\,$\mbox{]}, double rmax, double mo)
\item 
\Hypertarget{class_lens_halo_ad4e125851694b3dc3a8d0a489019a4ec}\label{class_lens_halo_ad4e125851694b3dc3a8d0a489019a4ec} 
double {\bfseries SCHRAMMKN} (double n, double x\mbox{[}$\,$\mbox{]}, double rmax)
\item 
\Hypertarget{class_lens_halo_a66984ae6e909a0b93a12daf2f0700e27}\label{class_lens_halo_a66984ae6e909a0b93a12daf2f0700e27} 
double {\bfseries SCHRAMMJN} (double n, double x\mbox{[}$\,$\mbox{]}, double rmax)
\item 
\Hypertarget{class_lens_halo_a9e2e568ed0e4a92359104e1790bedd50}\label{class_lens_halo_a9e2e568ed0e4a92359104e1790bedd50} 
double {\bfseries SCHRAMMI} (double x\mbox{[}$\,$\mbox{]}, double rmax)
\item 
\Hypertarget{class_lens_halo_a429dcab3579fa5291bf82f0484c0a480}\label{class_lens_halo_a429dcab3579fa5291bf82f0484c0a480} 
void {\bfseries calc\+Modes} (double q, double beta, double rottheta, Pos\+Type newmod\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Calculates the modes for fourier expansion of power law halo. All the modes are relative to the zero mode to conserve mass throughout the calculation of kappa etc. \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a93e605fbbd02b1b1cb1d055d45eaad3f}\label{class_lens_halo_a93e605fbbd02b1b1cb1d055d45eaad3f} 
void {\bfseries calc\+ModesB} (Pos\+Type x, double q, double beta, double rottheta, Pos\+Type newmod\mbox{[}$\,$\mbox{]})
\item 
\Hypertarget{class_lens_halo_a9a8c7680ceb818d6e451c0cf7338dbea}\label{class_lens_halo_a9a8c7680ceb818d6e451c0cf7338dbea} 
void {\bfseries calc\+ModesC} (Pos\+Type beta\+\_\+r, double q, double rottheta, Pos\+Type newmod\mbox{[}$\,$\mbox{]})
\item 
\Hypertarget{class_lens_halo_aef1b96851a1b51b3989deaf515ca7ac1}\label{class_lens_halo_aef1b96851a1b51b3989deaf515ca7ac1} 
virtual Pos\+Type {\bfseries Interpolate\+Modes} (int whichmod, Pos\+Type q, Pos\+Type b)
\item 
void \mbox{\hyperlink{class_lens_halo_affb1ead96e81d87f61d45e09a6f6fb3f}{anal\+Modes}} (int modnumber, Pos\+Type my\+\_\+beta, Pos\+Type q, Pos\+Type amod\mbox{[}3\mbox{]})
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_lens_halo_a9a4b9b0baa6d6a0aa28fdb15103cbdfe}\label{class_lens_halo_a9a4b9b0baa6d6a0aa28fdb15103cbdfe} 
float {\bfseries Rsize} = 0
\item 
\Hypertarget{class_lens_halo_a59843843bbea3a022dd8cc201c80adda}\label{class_lens_halo_a59843843bbea3a022dd8cc201c80adda} 
float {\bfseries mass}
\item 
\Hypertarget{class_lens_halo_a2490fd690c49693c4060cc261de6da95}\label{class_lens_halo_a2490fd690c49693c4060cc261de6da95} 
Pos\+Type {\bfseries Dist}
\item 
\Hypertarget{class_lens_halo_a514e07a2b4b1e56a4855834428213e76}\label{class_lens_halo_a514e07a2b4b1e56a4855834428213e76} 
Pos\+Type {\bfseries mnorm}
\item 
\Hypertarget{class_lens_halo_a448c84635275841d82d3fdd809ee577c}\label{class_lens_halo_a448c84635275841d82d3fdd809ee577c} 
float {\bfseries Rmax}
\item 
\Hypertarget{class_lens_halo_a723e750651bae13ac5fbe877ca9f4848}\label{class_lens_halo_a723e750651bae13ac5fbe877ca9f4848} 
Pos\+Type {\bfseries beta}
\item 
\Hypertarget{class_lens_halo_abe2665d12192e49e464127dd3b78a96d}\label{class_lens_halo_abe2665d12192e49e464127dd3b78a96d} 
float {\bfseries Rmax\+\_\+to\+\_\+\+Rsize\+\_\+ratio} = 1.\+2
\begin{DoxyCompactList}\small\item\em The factor by which Rmax is larger than Rsize. \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_ad0138e93c3a165ae25cd42bea42c4c4b}\label{class_lens_halo_ad0138e93c3a165ae25cd42bea42c4c4b} 
float {\bfseries rscale}
\begin{DoxyCompactList}\small\item\em scale length or core size. Different meaning in different cases. Not used in NSIE case. \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_a018177e0a213dadafa1d4c3788d282e2}\label{class_lens_halo_a018177e0a213dadafa1d4c3788d282e2} 
\mbox{\hyperlink{_input_params_8h_abeeb8c8413457c56ac46767a52fc2618}{Ellip\+Method}} {\bfseries main\+\_\+ellip\+\_\+method}
\item 
\Hypertarget{class_lens_halo_acede9c649fa9ea433fe85343c702493e}\label{class_lens_halo_acede9c649fa9ea433fe85343c702493e} 
Pos\+Type {\bfseries xmax}
\item 
\Hypertarget{class_lens_halo_a43de5eba625d4c78e85e2fdb8bbeaa0e}\label{class_lens_halo_a43de5eba625d4c78e85e2fdb8bbeaa0e} 
Pos\+Type {\bfseries mass\+\_\+norm\+\_\+factor} =1
\begin{DoxyCompactList}\small\item\em This is Rsize/rscale !! \end{DoxyCompactList}\item 
\Hypertarget{class_lens_halo_ac4b036ad68ac953d088cf09d1927f07c}\label{class_lens_halo_ac4b036ad68ac953d088cf09d1927f07c} 
float {\bfseries pa}
\item 
\Hypertarget{class_lens_halo_a97172c1beb13c6edc1df926e88f10e20}\label{class_lens_halo_a97172c1beb13c6edc1df926e88f10e20} 
float {\bfseries fratio} =1.\+0
\item 
\Hypertarget{class_lens_halo_a76f6b912230385cfc6b86d8af22f9704}\label{class_lens_halo_a76f6b912230385cfc6b86d8af22f9704} 
bool {\bfseries elliptical\+\_\+flag} = false
\item 
\Hypertarget{class_lens_halo_af315fe46ce335e68db940892611f5a6f}\label{class_lens_halo_af315fe46ce335e68db940892611f5a6f} 
bool {\bfseries switch\+\_\+flag} = false
\item 
\Hypertarget{class_lens_halo_a90712ac51a469dfa1bf89c43de336604}\label{class_lens_halo_a90712ac51a469dfa1bf89c43de336604} 
Pos\+Type {\bfseries mod} \mbox{[}Nmod\mbox{]}
\item 
\Hypertarget{class_lens_halo_a02af2f3b7d7eb9b62c3f184ba35bb457}\label{class_lens_halo_a02af2f3b7d7eb9b62c3f184ba35bb457} 
Pos\+Type {\bfseries mod1} \mbox{[}Nmod\mbox{]}
\item 
\Hypertarget{class_lens_halo_a62a68879784e317dec7c8f1803bd5863}\label{class_lens_halo_a62a68879784e317dec7c8f1803bd5863} 
Pos\+Type {\bfseries mod2} \mbox{[}Nmod\mbox{]}
\item 
\Hypertarget{class_lens_halo_a8e0bb97f00141f00fc2268c448a7fa07}\label{class_lens_halo_a8e0bb97f00141f00fc2268c448a7fa07} 
Pos\+Type {\bfseries r\+\_\+eps}
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_lens_halo_aaa69901d98efec6e7ceed7fe20fe98c0}\label{class_lens_halo_aaa69901d98efec6e7ceed7fe20fe98c0} 
static const int {\bfseries Nmod} = 32
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A base class for all types of lensing "{}halos"{} which are any mass distribution that cause lensing. 

It contains the mass, maximum radius (Rsize), and scale radius (rscale) of the halo, as well as the redshift (zlens).

It has get and set functions for the members as well as virtual functions like\+: force\+\_\+halo that compute the lensing properties -- deflection, convergence, and shear.

Along with the simple set function, there are two general initialization functions, that calculate the rest of the properties based on some input lens halo parameter (e.\+g. mass).

init\+From\+File is intended to be used when the halo data is read in from a simulation file. In this case the general halo is assumed to be an NFW halo and therefore the maximum velocity and the half-\/mass radius need to be set. This function is overridden in derived classes and in cases where it is not applicable only the mass is taken into initializing the lensing halo.

init\+From\+Mass\+Func is intended for the cases where the simulation is populated by lensing halos from a mass function. Then one needs all parameters of the halo -- mass, Rsize, and rscale. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_lens_halo_a0b96fdb10f3a10a2b65085fa5883ec1f}\index{LensHalo@{LensHalo}!LensHalo@{LensHalo}}
\index{LensHalo@{LensHalo}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{LensHalo()}{LensHalo()}}
{\footnotesize\ttfamily \label{class_lens_halo_a0b96fdb10f3a10a2b65085fa5883ec1f} 
Lens\+Halo\+::\+Lens\+Halo (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \&}]{h}{}\end{DoxyParamCaption})}

Identification number of halo. It is not always used.

\doxysubsection{Member Function Documentation}
\Hypertarget{class_lens_halo_a9295b7b1d0a66b3742a81ead5bf2a863}\index{LensHalo@{LensHalo}!alpha\_h@{alpha\_h}}
\index{alpha\_h@{alpha\_h}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{alpha\_h()}{alpha\_h()}}
{\footnotesize\ttfamily \label{class_lens_halo_a9295b7b1d0a66b3742a81ead5bf2a863} 
virtual Pos\+Type Lens\+Halo\+::alpha\+\_\+h (\begin{DoxyParamCaption}\item[{Pos\+Type}]{x}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

point mass case r \texorpdfstring{$\vert$}{|}alpha(r)\texorpdfstring{$\vert$}{|} pi Sigma\+\_\+crit / Mass 

Reimplemented in \mbox{\hyperlink{class_lens_halo_n_f_w_adb9b25642affcf63ab35b4b05c9f99ac}{Lens\+Halo\+NFW}}.

\Hypertarget{class_lens_halo_ab90367cd516c00c93e8608894732e965}\index{LensHalo@{LensHalo}!alphakappagamma1asym@{alphakappagamma1asym}}
\index{alphakappagamma1asym@{alphakappagamma1asym}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{alphakappagamma1asym()}{alphakappagamma1asym()}}
{\footnotesize\ttfamily \label{class_lens_halo_ab90367cd516c00c93e8608894732e965} 
void Lens\+Halo\+::alphakappagamma1asym (\begin{DoxyParamCaption}\item[{Pos\+Type}]{x}{, }\item[{Pos\+Type}]{theta}{, }\item[{Pos\+Type}]{alpha}{\mbox{[}2\mbox{]}, }\item[{Pos\+Type \texorpdfstring{$\ast$}{*}}]{kappa}{, }\item[{Pos\+Type}]{gamma}{\mbox{[}$\,$\mbox{]}, }\item[{Pos\+Type \texorpdfstring{$\ast$}{*}}]{phi}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Elliptical profiles by Fourier-\/\+Ansatz. 

with damping\Hypertarget{class_lens_halo_a7e68cb08c90a52d21f6af474acfc20e2}\index{LensHalo@{LensHalo}!alphakappagamma\_asym@{alphakappagamma\_asym}}
\index{alphakappagamma\_asym@{alphakappagamma\_asym}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{alphakappagamma\_asym()}{alphakappagamma\_asym()}}
{\footnotesize\ttfamily \label{class_lens_halo_a7e68cb08c90a52d21f6af474acfc20e2} 
void Lens\+Halo\+::alphakappagamma\+\_\+asym (\begin{DoxyParamCaption}\item[{Pos\+Type}]{r}{, }\item[{Pos\+Type}]{theta}{, }\item[{Pos\+Type}]{alpha}{\mbox{[}$\,$\mbox{]}, }\item[{Pos\+Type \texorpdfstring{$\ast$}{*}}]{kappa}{, }\item[{Pos\+Type}]{gamma}{\mbox{[}$\,$\mbox{]}, }\item[{Pos\+Type \texorpdfstring{$\ast$}{*}}]{phi}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Pseudo-\/elliptical profiles by Phi(\+G)-\/Ansatz. 


\begin{DoxyParams}{Parameters}
{\em r} & Radius in Mpc (not scale lengths)  \\
\hline
{\em theta} & angle of ray  \\
\hline
{\em alpha} & output deflection  \\
\hline
{\em kappa} & output kappa  \\
\hline
{\em gamma} & outpot gamma \\
\hline
\end{DoxyParams}
\Hypertarget{class_lens_halo_affb1ead96e81d87f61d45e09a6f6fb3f}\index{LensHalo@{LensHalo}!analModes@{analModes}}
\index{analModes@{analModes}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{analModes()}{analModes()}}
{\footnotesize\ttfamily \label{class_lens_halo_affb1ead96e81d87f61d45e09a6f6fb3f} 
void Lens\+Halo\+::anal\+Modes (\begin{DoxyParamCaption}\item[{int}]{modnumber}{, }\item[{Pos\+Type}]{my\+\_\+beta}{, }\item[{Pos\+Type}]{q}{, }\item[{Pos\+Type}]{amod}{\mbox{[}3\mbox{]}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Created on\+: March 28, 2014 Author\+: D. Leier \Hypertarget{class_lens_halo_a9125a5a6f4685d157dfbeacd00433ab2}\index{LensHalo@{LensHalo}!compareZ@{compareZ}}
\index{compareZ@{compareZ}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{compareZ()}{compareZ()}}
{\footnotesize\ttfamily \label{class_lens_halo_a9125a5a6f4685d157dfbeacd00433ab2} 
bool Lens\+Halo\+::compareZ (\begin{DoxyParamCaption}\item[{Pos\+Type}]{z}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



force tree calculation for stars 

internal compare redshift function \Hypertarget{class_lens_halo_a81938111b0d90611edcff8b2d4dd8432}\index{LensHalo@{LensHalo}!displayPos@{displayPos}}
\index{displayPos@{displayPos}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{displayPos()}{displayPos()}}
{\footnotesize\ttfamily \label{class_lens_halo_a81938111b0d90611edcff8b2d4dd8432} 
void Lens\+Halo\+::display\+Pos (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

get the position of the Halo in physical Mpc display the position of the halo \Hypertarget{class_lens_halo_afeafc7e19741a79fdf5b2d1e3b21f2ee}\index{LensHalo@{LensHalo}!dmoddb@{dmoddb}}
\index{dmoddb@{dmoddb}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{dmoddb()}{dmoddb()}}
{\footnotesize\ttfamily \label{class_lens_halo_afeafc7e19741a79fdf5b2d1e3b21f2ee} 
virtual Pos\+Type Lens\+Halo\+::dmoddb (\begin{DoxyParamCaption}\item[{int}]{whichmod}{, }\item[{Pos\+Type}]{q}{, }\item[{Pos\+Type}]{b}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Reimplemented in \mbox{\hyperlink{class_lens_halo_n_f_w_ad38e1cd1d96550571ec6c5ff104c4ba0}{Lens\+Halo\+NFW}}.

\Hypertarget{class_lens_halo_a6a8cf22c76bab7821b1b0ee3b50ea75f}\index{LensHalo@{LensHalo}!error\_message1@{error\_message1}}
\index{error\_message1@{error\_message1}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{error\_message1()}{error\_message1()}}
{\footnotesize\ttfamily \label{class_lens_halo_a6a8cf22c76bab7821b1b0ee3b50ea75f} 
void Lens\+Halo\+::error\+\_\+message1 (\begin{DoxyParamCaption}\item[{std\+::string}]{name}{, }\item[{std\+::string}]{filename}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



read in star parameters. This is valid for all halos and not overloaded. 

error message printout \Hypertarget{class_lens_halo_a825833ac8df009db76b5e4b4b4e140f9}\index{LensHalo@{LensHalo}!faxial@{faxial}}
\index{faxial@{faxial}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{faxial()}{faxial()}}
{\footnotesize\ttfamily \label{class_lens_halo_a825833ac8df009db76b5e4b4b4e140f9} 
void Lens\+Halo\+::faxial (\begin{DoxyParamCaption}\item[{Pos\+Type}]{x}{, }\item[{Pos\+Type}]{theta}{, }\item[{Pos\+Type}]{f}{\mbox{[}$\,$\mbox{]}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



If set to true the correct normalization is applied for asymmetric NFW profiles, the mass\+\_\+norm\+\_\+factor is different for the other halos. 

This function returns the lensing quantities for an asymmetric version of the symmetric baseclass halo.

This function should only be used by the second generation of classes derived from \doxylink{class_lens_halo}{Lens\+Halo}.

The math needs to be Pos\+Type checked and the sign convention checked. The method used to make the lenses asymmetric is laid out in \href{http://metcalf1.bo.astro.it/~bmetcalf/ExtraNotes/notes_elliptical.pdf}{\texttt{ http\+://metcalf1.\+bo.\+astro.\+it/\texorpdfstring{$\sim$}{\string~}bmetcalf/\+Extra\+Notes/notes\+\_\+elliptical.\+pdf}} Derivatives of the potential factor with respect to theta \Hypertarget{class_lens_halo_a70d44bd2ef4edee5fb918a61cf5d3fcf}\index{LensHalo@{LensHalo}!felliptical@{felliptical}}
\index{felliptical@{felliptical}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{felliptical()}{felliptical()}}
{\footnotesize\ttfamily \label{class_lens_halo_a70d44bd2ef4edee5fb918a61cf5d3fcf} 
void Lens\+Halo\+::felliptical (\begin{DoxyParamCaption}\item[{Pos\+Type}]{x}{, }\item[{Pos\+Type}]{q}{, }\item[{Pos\+Type}]{theta}{, }\item[{Pos\+Type}]{f}{\mbox{[}$\,$\mbox{]}, }\item[{Pos\+Type}]{g}{\mbox{[}$\,$\mbox{]}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Calculate the derivatives of the G function = r\texorpdfstring{$\ast$}{*}sqrt(cos(theta)\texorpdfstring{$^\wedge$}{\string^}2 + q(r)\texorpdfstring{$^\wedge$}{\string^}2 sin(theta)) 

output\+: f\mbox{[}0\mbox{]} = G, f\mbox{[}1\mbox{]} = d\+G/dtheta, f\mbox{[}2\mbox{]} = ddg/dtheta\texorpdfstring{$^\wedge$}{\string^}2, g\mbox{[}0\mbox{]} = R/r, g\mbox{[}1\mbox{]} = d\+G/dr , g\mbox{[}2\mbox{]} = dd\+G/dr\texorpdfstring{$^\wedge$}{\string^}2, g\mbox{[}3\mbox{]} = dd\+G/dr/dtheta \Hypertarget{class_lens_halo_a460de105e52520a328d5912455c02fdd}\index{LensHalo@{LensHalo}!force\_halo@{force\_halo}}
\index{force\_halo@{force\_halo}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{force\_halo()}{force\_halo()}}
{\footnotesize\ttfamily \label{class_lens_halo_a460de105e52520a328d5912455c02fdd} 
void Lens\+Halo\+::force\+\_\+halo (\begin{DoxyParamCaption}\item[{Pos\+Type \texorpdfstring{$\ast$}{*}}]{alpha}{, }\item[{Kappa\+Type \texorpdfstring{$\ast$}{*}}]{kappa}{, }\item[{Kappa\+Type \texorpdfstring{$\ast$}{*}}]{gamma}{, }\item[{Kappa\+Type \texorpdfstring{$\ast$}{*}}]{phi}{, }\item[{Pos\+Type const \texorpdfstring{$\ast$}{*}}]{xcm}{, }\item[{bool}]{subtract\+\_\+point}{ = {\ttfamily false}, }\item[{Pos\+Type}]{screening}{ = {\ttfamily 1.0}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}


\begin{DoxyParams}{Parameters}
{\em alpha} & deflection solar mass/\+Mpc  \\
\hline
{\em kappa} & surface density in units of Sigma crit  \\
\hline
{\em gamma} & three components of shear  \\
\hline
{\em phi} & potential in solar masses  \\
\hline
{\em xcm} & position relative to center (in physical Mpc)  \\
\hline
{\em subtract\+\_\+point} & if true contribution from a point mass is subtracted  \\
\hline
{\em screening} & the factor by which to scale the mass for screening of the point mass subtraction \\
\hline
\end{DoxyParams}


Reimplemented in \mbox{\hyperlink{class_lens_halo_dummy_a97a4d4969529502dd956a03c7da6d5ee}{Lens\+Halo\+Dummy}}, \mbox{\hyperlink{class_lens_halo_mass_map_a7539cfc750a26eda61672263a2f75eb4}{Lens\+Halo\+Mass\+Map}}, \mbox{\hyperlink{class_lens_halo_real_n_s_i_e_a819bd516935f96820fe43e5b27d6fec5}{Lens\+Halo\+Real\+NSIE}}, \mbox{\hyperlink{class_lens_halo_t_e_p_l_ae8d450a37357553b9ddfcdfd06a8432e}{Lens\+Halo\+TEPL}}, \mbox{\hyperlink{class_lens_halo_t_n_s_i_e_a21702bde8394612b37e7f8b4d87086d7}{Lens\+Halo\+TNSIE}}, and \mbox{\hyperlink{class_lens_halo_uniform_affe103992cc263e43cb571fb6577acc7}{Lens\+Halo\+Uniform}}.

\Hypertarget{class_lens_halo_a78cc531d36104d72bec891424aba9fcb}\index{LensHalo@{LensHalo}!force\_halo\_asym@{force\_halo\_asym}}
\index{force\_halo\_asym@{force\_halo\_asym}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{force\_halo\_asym()}{force\_halo\_asym()}}
{\footnotesize\ttfamily \label{class_lens_halo_a78cc531d36104d72bec891424aba9fcb} 
void Lens\+Halo\+::force\+\_\+halo\+\_\+asym (\begin{DoxyParamCaption}\item[{Pos\+Type \texorpdfstring{$\ast$}{*}}]{alpha}{, }\item[{Kappa\+Type \texorpdfstring{$\ast$}{*}}]{kappa}{, }\item[{Kappa\+Type \texorpdfstring{$\ast$}{*}}]{gamma}{, }\item[{Kappa\+Type \texorpdfstring{$\ast$}{*}}]{phi}{, }\item[{Pos\+Type const \texorpdfstring{$\ast$}{*}}]{xcm}{, }\item[{bool}]{subtract\+\_\+point}{ = {\ttfamily false}, }\item[{Pos\+Type}]{screening}{ = {\ttfamily 1.0}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

intersecting, subtract the point particle

case distinction used for elliptical NFWs (true) only (get\+\_\+switch\+\_\+flag==true)

add stars for microlensing
\begin{DoxyParams}{Parameters}
{\em alpha} & mass/\+Mpc  \\
\hline
{\em phi} & potential solar masses  \\
\hline
{\em subtract\+\_\+point} & if true contribution from a point mass is subtracted  \\
\hline
{\em screening} & the factor by which to scale the mass for screening of the point mass subtraction \\
\hline
\end{DoxyParams}
\Hypertarget{class_lens_halo_a374d199861689b8186c04d29bf92d6a2}\index{LensHalo@{LensHalo}!force\_halo\_sym@{force\_halo\_sym}}
\index{force\_halo\_sym@{force\_halo\_sym}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{force\_halo\_sym()}{force\_halo\_sym()}}
{\footnotesize\ttfamily \label{class_lens_halo_a374d199861689b8186c04d29bf92d6a2} 
void Lens\+Halo\+::force\+\_\+halo\+\_\+sym (\begin{DoxyParamCaption}\item[{Pos\+Type \texorpdfstring{$\ast$}{*}}]{alpha}{, }\item[{Kappa\+Type \texorpdfstring{$\ast$}{*}}]{kappa}{, }\item[{Kappa\+Type \texorpdfstring{$\ast$}{*}}]{gamma}{, }\item[{Kappa\+Type \texorpdfstring{$\ast$}{*}}]{phi}{, }\item[{Pos\+Type const \texorpdfstring{$\ast$}{*}}]{xcm}{, }\item[{bool}]{subtract\+\_\+point}{ = {\ttfamily false}, }\item[{Pos\+Type}]{screening}{ = {\ttfamily 1.0}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



returns the lensing quantities of a ray in center of mass coordinates for a symmetric halo 

phi is defined here in such a way that it differs from alpha by a sign (as we should have alpha = \textbackslash{}nabla\+\_\+x phi) but alpha agrees with the rest of the lensing quantities (kappa and gammas). Warning \+: Be careful, the sign of alpha is changed in \doxylink{class_lens_plane_singular_aae11773b4960c738d6a653813bb78957}{Lens\+Plane\+Singular\+::force} ! intersecting, subtract the point particle

add stars for microlensing
\begin{DoxyParams}{Parameters}
{\em alpha} & solar mass/\+Mpc  \\
\hline
{\em kappa} & convergence  \\
\hline
{\em gamma} & three components of shear  \\
\hline
{\em phi} & potential solar masses  \\
\hline
{\em xcm} & position relative to center (Mpc)  \\
\hline
{\em subtract\+\_\+point} & if true contribution from a point mass is subtracted  \\
\hline
{\em screening} & the factor by which to scale the mass for screening of the point mass subtraction \\
\hline
\end{DoxyParams}
\Hypertarget{class_lens_halo_a6aee0c9abc88ca6d3d8ed9e44a18e6e3}\index{LensHalo@{LensHalo}!get\_Rmax@{get\_Rmax}}
\index{get\_Rmax@{get\_Rmax}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{get\_Rmax()}{get\_Rmax()}}
{\footnotesize\ttfamily \label{class_lens_halo_a6aee0c9abc88ca6d3d8ed9e44a18e6e3} 
float Lens\+Halo\+::get\+\_\+\+Rmax (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



this can be used to tag types of Lens\+Halos 

get the Rmax which is larger than Rsize in Mpc. This is the region exterior to which the halo will be considered a point mass. Between Rsize and Rmax the deflection and shear are interpolated. \Hypertarget{class_lens_halo_a2deb914a879890de10a76323cf056aae}\index{LensHalo@{LensHalo}!get\_slope@{get\_slope}}
\index{get\_slope@{get\_slope}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{get\_slope()}{get\_slope()}}
{\footnotesize\ttfamily \label{class_lens_halo_a2deb914a879890de10a76323cf056aae} 
virtual Pos\+Type Lens\+Halo\+::get\+\_\+slope (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



get slope 



Reimplemented in \mbox{\hyperlink{class_lens_halo_pseudo_n_f_w_ad7e3fe8f3cd6be7b4851bc09091d47be}{Lens\+Halo\+Pseudo\+NFW}}.

\Hypertarget{class_lens_halo_a50bd89dc5d7d11932c757eb4e962b6ba}\index{LensHalo@{LensHalo}!getDist@{getDist}}
\index{getDist@{getDist}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{getDist()}{getDist()}}
{\footnotesize\ttfamily \label{class_lens_halo_a50bd89dc5d7d11932c757eb4e962b6ba} 
Pos\+Type Lens\+Halo\+::get\+Dist (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

return current angular size distance, ie conversion between angular and special coordinates. This may not agree with the get\+Z() value because of the projection onto the lens plane. \Hypertarget{class_lens_halo_ae4e6a8b770a38df28c9bee8799385923}\index{LensHalo@{LensHalo}!getEllipMethod@{getEllipMethod}}
\index{getEllipMethod@{getEllipMethod}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{getEllipMethod()}{getEllipMethod()}}
{\footnotesize\ttfamily \label{class_lens_halo_ae4e6a8b770a38df28c9bee8799385923} 
\mbox{\hyperlink{_input_params_8h_abeeb8c8413457c56ac46767a52fc2618}{Ellip\+Method}} Lens\+Halo\+::get\+Ellip\+Method (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



stars 

the method used to ellipticize a halo if fratio!=1 and halo is not NSIE \Hypertarget{class_lens_halo_a645d2cbd9e686ce0d061d83d28c88eb0}\index{LensHalo@{LensHalo}!initFromFile@{initFromFile}}
\index{initFromFile@{initFromFile}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{initFromFile()}{initFromFile()}}
{\footnotesize\ttfamily \label{class_lens_halo_a645d2cbd9e686ce0d061d83d28c88eb0} 
virtual void Lens\+Halo\+::init\+From\+File (\begin{DoxyParamCaption}\item[{float}]{my\+\_\+mass}{, }\item[{long \texorpdfstring{$\ast$}{*}}]{seed}{, }\item[{float}]{vmax}{, }\item[{float}]{r\+\_\+halfmass}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



initialize from a simulation file 



Reimplemented in \mbox{\hyperlink{class_lens_halo_n_f_w_a1e862a84007d11cb5d66fccc2b7c9daa}{Lens\+Halo\+NFW}}.

\Hypertarget{class_lens_halo_a8b31bdf68c61572e7a32dc3da6b139c8}\index{LensHalo@{LensHalo}!initFromMassFunc@{initFromMassFunc}}
\index{initFromMassFunc@{initFromMassFunc}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{initFromMassFunc()}{initFromMassFunc()}}
{\footnotesize\ttfamily \label{class_lens_halo_a8b31bdf68c61572e7a32dc3da6b139c8} 
void Lens\+Halo\+::init\+From\+Mass\+Func (\begin{DoxyParamCaption}\item[{float}]{my\+\_\+mass}{, }\item[{float}]{my\+\_\+\+Rsize}{, }\item[{float}]{my\+\_\+rscale}{, }\item[{Pos\+Type}]{my\+\_\+slope}{, }\item[{long \texorpdfstring{$\ast$}{*}}]{seed}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



initialize from a mass function 



Reimplemented in \mbox{\hyperlink{class_lens_halo_dummy_ae775b683ce68dec913a90116f19cf471}{Lens\+Halo\+Dummy}}, \mbox{\hyperlink{class_lens_halo_n_f_w_a228966c2dd97f08cb94b7541880d6d3d}{Lens\+Halo\+NFW}}, \mbox{\hyperlink{class_lens_halo_power_law_a2265529c633a4ac00ab06eaebe3c9c18}{Lens\+Halo\+Power\+Law}}, and \mbox{\hyperlink{class_lens_halo_pseudo_n_f_w_a943a817b3f07b719a7becccd302d833e}{Lens\+Halo\+Pseudo\+NFW}}.

\Hypertarget{class_lens_halo_ac3f16aeffae590925d115799698ebaf4}\index{LensHalo@{LensHalo}!kappa\_asym@{kappa\_asym}}
\index{kappa\_asym@{kappa\_asym}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{kappa\_asym()}{kappa\_asym()}}
{\footnotesize\ttfamily \label{class_lens_halo_ac3f16aeffae590925d115799698ebaf4} 
Pos\+Type Lens\+Halo\+::kappa\+\_\+asym (\begin{DoxyParamCaption}\item[{Pos\+Type}]{x}{, }\item[{Pos\+Type}]{theta}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

radius in Mpc (Not x = r/rscale)\Hypertarget{class_lens_halo_a0652d15d437d73b38dc8b057ed2c025f}\index{LensHalo@{LensHalo}!map\_variables@{map\_variables}}
\index{map\_variables@{map\_variables}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{map\_variables()}{map\_variables()}}
{\footnotesize\ttfamily \label{class_lens_halo_a0652d15d437d73b38dc8b057ed2c025f} 
\mbox{\hyperlink{class_pixel_map}{Pixel\+Map}}$<$ double $>$ Lens\+Halo\+::map\+\_\+variables (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{standard_8h_a73d5f5042d9b38366d0b3781d199f9e7}{Lensing\+Variable}}}]{lensvar}{, }\item[{size\+\_\+t}]{Nx}{, }\item[{size\+\_\+t}]{Ny}{, }\item[{double}]{res}{}\end{DoxyParamCaption})}



Map a \doxylink{class_pixel_map}{Pixel\+Map} of the surface, density, potential and potential gradient centred on (0,0) in \doxylink{class_lens_halo}{Lens\+Halo} coordinates. 

Units \+: ALPHA -\/ mass/\+Phys\+Mpc -\/ ALPHA / Sig\+\_\+crit / Dl is the deflection in radians KAPPA -\/ surface mass density , mass / /\+Phys\+Mpc/\+Phys\+Mpc -\/ KAPPA / Sig\+\_\+crit is the convergence GAMMA -\/ mass / /\+Phys\+Mpc/\+Phys\+Mpc -\/ GAMMA / Sig\+\_\+crit is the shear PHI -\/ mass -\/ PHI / Sig\+\_\+crit / Dl / Dl is the lensing potential whose angular gradient is the deflection and angular Laplacian is 2 times the convergence

centred on (0,0) in \doxylink{class_lens_halo}{Lens\+Halo} coordinates 
\begin{DoxyParams}{Parameters}
{\em lensvar} & lensing variable -\/ KAPPA, ALPHA1, ALPHA2, GAMMA1, GAMMA2 or PHI  \\
\hline
{\em res} & angular resolution in radians \\
\hline
\end{DoxyParams}
\Hypertarget{class_lens_halo_a7184a202e39fac7cf8f7d0436abdc982}\index{LensHalo@{LensHalo}!MassBy2DIntegation@{MassBy2DIntegation}}
\index{MassBy2DIntegation@{MassBy2DIntegation}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{MassBy2DIntegation()}{MassBy2DIntegation()}}
{\footnotesize\ttfamily \label{class_lens_halo_a7184a202e39fac7cf8f7d0436abdc982} 
Pos\+Type Lens\+Halo\+::\+Mass\+By2\+DIntegation (\begin{DoxyParamCaption}\item[{Pos\+Type}]{R}{}\end{DoxyParamCaption})}



Prints star parameters; if show\+\_\+stars is true, prints data for single stars. 

calculates the mass within radius R by integating kappa in theta and R, used only for testing \Hypertarget{class_lens_halo_aaa135c7e56a24de4a1dee76604a44141}\index{LensHalo@{LensHalo}!operator=@{operator=}}
\index{operator=@{operator=}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{class_lens_halo_aaa135c7e56a24de4a1dee76604a44141} 
\mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \& Lens\+Halo\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \&}]{h}{}\end{DoxyParamCaption})}

Identification number of halo. It is not always used.\Hypertarget{class_lens_halo_a9be986a94c12228b2e5c173c1cf5d85c}\index{LensHalo@{LensHalo}!operator=@{operator=}}
\index{operator=@{operator=}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{class_lens_halo_a9be986a94c12228b2e5c173c1cf5d85c} 
\mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \& Lens\+Halo\+::operator= (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \&\&}]{h}{}\end{DoxyParamCaption})}

Identification number of halo. It is not always used.\Hypertarget{class_lens_halo_ababdb795dfb3955b14078a8fe777d608}\index{LensHalo@{LensHalo}!set\_slope@{set\_slope}}
\index{set\_slope@{set\_slope}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{set\_slope()}{set\_slope()}}
{\footnotesize\ttfamily \label{class_lens_halo_ababdb795dfb3955b14078a8fe777d608} 
virtual void Lens\+Halo\+::set\+\_\+slope (\begin{DoxyParamCaption}\item[{Pos\+Type}]{my\+\_\+slope}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



set slope 



Reimplemented in \mbox{\hyperlink{class_lens_halo_pseudo_n_f_w_a2315731cb8f04955e511ea49cc51428c}{Lens\+Halo\+Pseudo\+NFW}}.

\Hypertarget{class_lens_halo_ae93d20b6fdeaaab7d1f0a61a13e6d644}\index{LensHalo@{LensHalo}!setCosmology@{setCosmology}}
\index{setCosmology@{setCosmology}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{setCosmology()}{setCosmology()}}
{\footnotesize\ttfamily \label{class_lens_halo_ae93d20b6fdeaaab7d1f0a61a13e6d644} 
virtual void Lens\+Halo\+::set\+Cosmology (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_c_o_s_m_o_l_o_g_y}{COSMOLOGY}} \&}]{cosmo}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



used for elliptical NFWs only, in that case get\+\_\+switch\+\_\+flag==true 

set cosmology for halo 

Reimplemented in \mbox{\hyperlink{class_lens_halo_ana_n_s_i_e_a7f20a04409e5b5ce166338b049b18d85}{Lens\+Halo\+Ana\+NSIE}}.

\Hypertarget{class_lens_halo_a9b357894d8d644741be0cec08e45bb30}\index{LensHalo@{LensHalo}!test@{test}}
\index{test@{test}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{test()}{test()}}
{\footnotesize\ttfamily \label{class_lens_halo_a9b357894d8d644741be0cec08e45bb30} 
bool Lens\+Halo\+::test (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



perform some basic consistancy checks for halo 

Three tests\+: 1st -\/ Mass via 1D integration vs mass via 2D integration. 2nd\+: gamma\+\_\+t=alpha/r -\/ kappa(\+R) which can be used for spherical distributions. Deviations are expected for axis ratios \texorpdfstring{$<$}{<}1. For the latter case we use the next test. 3rd\+: The average along a circular aperture of gamma\+\_\+t should be equal to \texorpdfstring{$<$}{<}kappa($<$\+R)\texorpdfstring{$>$}{>} minus the average along a circular aperture over kappa. Note that also alpha/r -\/ kappa is checked for consistency with kappa($<$\+R)-\/\texorpdfstring{$<$}{<}kappa(\+R)\texorpdfstring{$>$}{>}. For axis ratios \texorpdfstring{$<$}{<} 1 the factor between the two is expected to be of order O(10\%). 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
SLsim\+Lib/include/lens\+\_\+halos.\+h\item 
SLsim\+Lib/\+Analytic\+NSIE/base\+\_\+analens.\+cpp\item 
SLsim\+Lib/\+Analytic\+NSIE/modes\+\_\+ana.\+cpp\item 
SLsim\+Lib/\+Multi\+Plane/lens\+\_\+halos.\+cpp\end{DoxyCompactItemize}
