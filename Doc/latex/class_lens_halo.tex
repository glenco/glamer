\hypertarget{class_lens_halo}{}\doxysection{Lens\+Halo Class Reference}
\label{class_lens_halo}\index{LensHalo@{LensHalo}}


A base class for all types of lensing \char`\"{}halos\char`\"{} which are any mass distribution that cause lensing.  




{\ttfamily \#include $<$lens\+\_\+halos.\+h$>$}



Inheritance diagram for Lens\+Halo\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_lens_halo__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Lens\+Halo\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=253pt]{class_lens_halo__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_lens_halo_a813618bcd6d1f26dafa49a2e509a37db}\label{class_lens_halo_a813618bcd6d1f26dafa49a2e509a37db}} 
\mbox{\hyperlink{class_lens_halo_a813618bcd6d1f26dafa49a2e509a37db}{Lens\+Halo}} ()
\begin{DoxyCompactList}\small\item\em Shell constructor. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a06aec4e2db7afdc57294332cbb93cdff}\label{class_lens_halo_a06aec4e2db7afdc57294332cbb93cdff}} 
{\bfseries Lens\+Halo} (Pos\+Type z, const \mbox{\hyperlink{class_c_o_s_m_o_l_o_g_y}{C\+O\+S\+M\+O\+L\+O\+GY}} \&cosmo)
\item 
\mbox{\hyperlink{class_lens_halo_a0b96fdb10f3a10a2b65085fa5883ec1f}{Lens\+Halo}} (const \mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \&h)
\item 
\mbox{\Hypertarget{class_lens_halo_abf57d13c51d4fd183e21f960b0decf6c}\label{class_lens_halo_abf57d13c51d4fd183e21f960b0decf6c}} 
{\bfseries Lens\+Halo} (\mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \&\&h)
\item 
\mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \& \mbox{\hyperlink{class_lens_halo_aaa135c7e56a24de4a1dee76604a44141}{operator=}} (const \mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \&h)
\item 
\mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \& \mbox{\hyperlink{class_lens_halo_a9be986a94c12228b2e5c173c1cf5d85c}{operator=}} (\mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \&\&h)
\item 
float \mbox{\hyperlink{class_lens_halo_a6aee0c9abc88ca6d3d8ed9e44a18e6e3}{get\+\_\+\+Rmax}} () const
\item 
\mbox{\Hypertarget{class_lens_halo_a2616defcc052fd9ab1e568cfd8a5c9a9}\label{class_lens_halo_a2616defcc052fd9ab1e568cfd8a5c9a9}} 
float \mbox{\hyperlink{class_lens_halo_a2616defcc052fd9ab1e568cfd8a5c9a9}{get\+Rsize}} () const
\begin{DoxyCompactList}\small\item\em get the Rsize which is the size of the halo in Mpc \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a5f7d67a341a08313a8920a1b8bd3d8bf}\label{class_lens_halo_a5f7d67a341a08313a8920a1b8bd3d8bf}} 
float \mbox{\hyperlink{class_lens_halo_a5f7d67a341a08313a8920a1b8bd3d8bf}{get\+\_\+mass}} () const
\begin{DoxyCompactList}\small\item\em get the mass solar units \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_ad13e77713ccce39fd925e810063cbae3}\label{class_lens_halo_ad13e77713ccce39fd925e810063cbae3}} 
float \mbox{\hyperlink{class_lens_halo_ad13e77713ccce39fd925e810063cbae3}{get\+\_\+rscale}} () const
\begin{DoxyCompactList}\small\item\em get the scale radius in Mpc \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a01ce57465ce8d14670804096aee578c7}\label{class_lens_halo_a01ce57465ce8d14670804096aee578c7}} 
Pos\+Type \mbox{\hyperlink{class_lens_halo_a01ce57465ce8d14670804096aee578c7}{get\+Zlens}} () const
\begin{DoxyCompactList}\small\item\em get the redshift \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a04e4a630ac49ff76831e06fb1ab0d669}\label{class_lens_halo_a04e4a630ac49ff76831e06fb1ab0d669}} 
void \mbox{\hyperlink{class_lens_halo_a04e4a630ac49ff76831e06fb1ab0d669}{getX}} (Pos\+Type $\ast$My\+Pos\+Halo) const
\begin{DoxyCompactList}\small\item\em get the position of the Halo in physical Mpc on the lens plane \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a1fe8d2ac9d3b276cc5c473107a999b2d}\label{class_lens_halo_a1fe8d2ac9d3b276cc5c473107a999b2d}} 
Pos\+Type \mbox{\hyperlink{class_lens_halo_a1fe8d2ac9d3b276cc5c473107a999b2d}{operator\mbox{[}$\,$\mbox{]}}} (int i) const
\begin{DoxyCompactList}\small\item\em returns position of the Halo in physical Mpc on the lens plane \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a4ad6ef27f481ed707031b3c5f9f5e435}\label{class_lens_halo_a4ad6ef27f481ed707031b3c5f9f5e435}} 
void \mbox{\hyperlink{class_lens_halo_a4ad6ef27f481ed707031b3c5f9f5e435}{set\+Theta}} (Pos\+Type PosX, Pos\+Type PosY)
\begin{DoxyCompactList}\small\item\em set the position of the Halo in radians \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a5a36eb5a13d944c34ad0cd56b1b8e598}\label{class_lens_halo_a5a36eb5a13d944c34ad0cd56b1b8e598}} 
void \mbox{\hyperlink{class_lens_halo_a5a36eb5a13d944c34ad0cd56b1b8e598}{set\+Theta}} (Pos\+Type $\ast$Pos\+XY)
\begin{DoxyCompactList}\small\item\em set the position of the Halo in radians \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a9abe01ec8275570e899e3675da663981}\label{class_lens_halo_a9abe01ec8275570e899e3675da663981}} 
void \mbox{\hyperlink{class_lens_halo_a9abe01ec8275570e899e3675da663981}{set\+Theta}} (const \mbox{\hyperlink{struct_point__2d}{Point\+\_\+2d}} \&p)
\begin{DoxyCompactList}\small\item\em set the position of the Halo in radians \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a65304f5eeabf9d8e0209691e3ee16820}\label{class_lens_halo_a65304f5eeabf9d8e0209691e3ee16820}} 
void \mbox{\hyperlink{class_lens_halo_a65304f5eeabf9d8e0209691e3ee16820}{get\+Theta}} (Pos\+Type $\ast$My\+Pos\+Halo) const
\begin{DoxyCompactList}\small\item\em get the position of the Halo in radians \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a88159eac5a61762fffca24e508c2dccd}\label{class_lens_halo_a88159eac5a61762fffca24e508c2dccd}} 
void \mbox{\hyperlink{class_lens_halo_a88159eac5a61762fffca24e508c2dccd}{set\+Dist}} (\mbox{\hyperlink{class_c_o_s_m_o_l_o_g_y}{C\+O\+S\+M\+O\+L\+O\+GY}} \&co)
\begin{DoxyCompactList}\small\item\em Set the angular size distance to the halo. This should be the distance to the lens plane. \end{DoxyCompactList}\item 
Pos\+Type \mbox{\hyperlink{class_lens_halo_a50bd89dc5d7d11932c757eb4e962b6ba}{get\+Dist}} () const
\item 
void \mbox{\hyperlink{class_lens_halo_a81938111b0d90611edcff8b2d4dd8432}{display\+Pos}} ()
\item 
\mbox{\Hypertarget{class_lens_halo_a645d2cbd9e686ce0d061d83d28c88eb0}\label{class_lens_halo_a645d2cbd9e686ce0d061d83d28c88eb0}} 
virtual void \mbox{\hyperlink{class_lens_halo_a645d2cbd9e686ce0d061d83d28c88eb0}{init\+From\+File}} (float my\+\_\+mass, long $\ast$seed, float vmax, float r\+\_\+halfmass)
\begin{DoxyCompactList}\small\item\em initialize from a simulation file \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a8b31bdf68c61572e7a32dc3da6b139c8}\label{class_lens_halo_a8b31bdf68c61572e7a32dc3da6b139c8}} 
virtual void \mbox{\hyperlink{class_lens_halo_a8b31bdf68c61572e7a32dc3da6b139c8}{init\+From\+Mass\+Func}} (float my\+\_\+mass, float my\+\_\+\+Rsize, float my\+\_\+rscale, Pos\+Type my\+\_\+slope, long $\ast$seed)
\begin{DoxyCompactList}\small\item\em initialize from a mass function \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_ac43654064fefbfecd0d7c9c1887fadad}\label{class_lens_halo_ac43654064fefbfecd0d7c9c1887fadad}} 
virtual void \mbox{\hyperlink{class_lens_halo_ac43654064fefbfecd0d7c9c1887fadad}{set\+\_\+\+Rsize\+Rmax}} (float my\+\_\+\+Rsize)
\begin{DoxyCompactList}\small\item\em set Rsize (in Mpc) and reset Rmax \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a55b64efb4df0a26188ee558afa90d6bf}\label{class_lens_halo_a55b64efb4df0a26188ee558afa90d6bf}} 
void \mbox{\hyperlink{class_lens_halo_a55b64efb4df0a26188ee558afa90d6bf}{set\+\_\+mass}} (float my\+\_\+mass)
\begin{DoxyCompactList}\small\item\em set mass (in solar masses) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a68e3f2ba68f2d93202985fb317cf0a14}\label{class_lens_halo_a68e3f2ba68f2d93202985fb317cf0a14}} 
virtual void \mbox{\hyperlink{class_lens_halo_a68e3f2ba68f2d93202985fb317cf0a14}{set\+\_\+rscale}} (float my\+\_\+rscale)
\begin{DoxyCompactList}\small\item\em set scale radius (in Mpc) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a3c28739f7088e24bda7d67b14f50d4ba}\label{class_lens_halo_a3c28739f7088e24bda7d67b14f50d4ba}} 
void \mbox{\hyperlink{class_lens_halo_a3c28739f7088e24bda7d67b14f50d4ba}{set\+Zlens}} (Pos\+Type my\+\_\+zlens, const \mbox{\hyperlink{class_c_o_s_m_o_l_o_g_y}{C\+O\+S\+M\+O\+L\+O\+GY}} \&cosmo)
\begin{DoxyCompactList}\small\item\em set redshift \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a89dd764c7438427deb3ec033a65e980a}\label{class_lens_halo_a89dd764c7438427deb3ec033a65e980a}} 
void {\bfseries set\+Rsize} (Pos\+Type R)
\item 
\mbox{\Hypertarget{class_lens_halo_a8ad827716b2ab04b56e727aaa38d4735}\label{class_lens_halo_a8ad827716b2ab04b56e727aaa38d4735}} 
void {\bfseries set\+Zlens\+Dist} (Pos\+Type my\+\_\+zlens, const \mbox{\hyperlink{class_c_o_s_m_o_l_o_g_y}{C\+O\+S\+M\+O\+L\+O\+GY}} \&cos)
\item 
\mbox{\Hypertarget{class_lens_halo_aa0393e6c3a72ecdc949b77ff15d47642}\label{class_lens_halo_aa0393e6c3a72ecdc949b77ff15d47642}} 
void {\bfseries set\+Mass} (Pos\+Type m)
\item 
\mbox{\Hypertarget{class_lens_halo_ababdb795dfb3955b14078a8fe777d608}\label{class_lens_halo_ababdb795dfb3955b14078a8fe777d608}} 
virtual void \mbox{\hyperlink{class_lens_halo_ababdb795dfb3955b14078a8fe777d608}{set\+\_\+slope}} (Pos\+Type my\+\_\+slope)
\begin{DoxyCompactList}\small\item\em set slope \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a2deb914a879890de10a76323cf056aae}\label{class_lens_halo_a2deb914a879890de10a76323cf056aae}} 
virtual Pos\+Type \mbox{\hyperlink{class_lens_halo_a2deb914a879890de10a76323cf056aae}{get\+\_\+slope}} ()
\begin{DoxyCompactList}\small\item\em get slope \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a122a8066d3746da81768627a19aaa69c}\label{class_lens_halo_a122a8066d3746da81768627a19aaa69c}} 
bool \mbox{\hyperlink{class_lens_halo_a122a8066d3746da81768627a19aaa69c}{get\+\_\+flag\+\_\+elliptical}} ()
\begin{DoxyCompactList}\small\item\em flag=True if halo elliptical \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a7a28a3bd97f3e6482c0d55ab88fdc2d2}\label{class_lens_halo_a7a28a3bd97f3e6482c0d55ab88fdc2d2}} 
void {\bfseries set\+\_\+flag\+\_\+elliptical} (bool ell)
\item 
\mbox{\Hypertarget{class_lens_halo_aeb0c4126de81f264011e7d766035b8f2}\label{class_lens_halo_aeb0c4126de81f264011e7d766035b8f2}} 
bool {\bfseries get\+\_\+switch\+\_\+flag} ()
\item 
\mbox{\Hypertarget{class_lens_halo_a907cc0b6b9bc12f90ed7e61a674dff26}\label{class_lens_halo_a907cc0b6b9bc12f90ed7e61a674dff26}} 
void \mbox{\hyperlink{class_lens_halo_a907cc0b6b9bc12f90ed7e61a674dff26}{set\+\_\+switch\+\_\+flag}} (bool swt)
\begin{DoxyCompactList}\small\item\em flag permits case distinction in force\+\_\+halo\+\_\+asym for elliptical N\+F\+Ws only (get\+\_\+switch\+\_\+flag==true), in latter case the mass\+\_\+norm\+\_\+factor$^\wedge$2 is used instead of mass\+\_\+norm\+\_\+factor. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_lens_halo_ae93d20b6fdeaaab7d1f0a61a13e6d644}{set\+Cosmology}} (const \mbox{\hyperlink{class_c_o_s_m_o_l_o_g_y}{C\+O\+S\+M\+O\+L\+O\+GY}} \&cosmo)
\begin{DoxyCompactList}\small\item\em used for elliptical N\+F\+Ws only, in that case get\+\_\+switch\+\_\+flag==true \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_lens_halo_a460de105e52520a328d5912455c02fdd}{force\+\_\+halo}} (Pos\+Type $\ast$alpha, Kappa\+Type $\ast$kappa, Kappa\+Type $\ast$gamma, Kappa\+Type $\ast$phi, Pos\+Type const $\ast$xcm, bool subtract\+\_\+point=false, Pos\+Type screening=1.\+0)
\begin{DoxyCompactList}\small\item\em returns the lensing quantities of a ray in center of mass coordinates. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_lens_halo_a06e91f74e759392f288e1b61dcbd75da}{force\+\_\+stars}} (Pos\+Type $\ast$alpha, Kappa\+Type $\ast$kappa, Kappa\+Type $\ast$gamma, Pos\+Type const $\ast$xcm)
\begin{DoxyCompactList}\small\item\em force tree calculation for stars \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a9125a5a6f4685d157dfbeacd00433ab2}\label{class_lens_halo_a9125a5a6f4685d157dfbeacd00433ab2}} 
bool \mbox{\hyperlink{class_lens_halo_a9125a5a6f4685d157dfbeacd00433ab2}{compareZ}} (Pos\+Type z)
\begin{DoxyCompactList}\small\item\em internal compare redshift function \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a92481d3d05e4a1fff32fe68bd9f0044d}\label{class_lens_halo_a92481d3d05e4a1fff32fe68bd9f0044d}} 
bool \mbox{\hyperlink{class_lens_halo_a92481d3d05e4a1fff32fe68bd9f0044d}{Are\+Stars\+Implanted}} () const
\begin{DoxyCompactList}\small\item\em stars \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_lens_halo_a57eeef037ae032ee1ff79ba0709fbe96}{implant\+\_\+stars}} (Pos\+Type $\ast$$\ast$centers, int Nregions, long $\ast$seed, I\+M\+Ftype type=One)
\begin{DoxyCompactList}\small\item\em Implant or randomize stars into the lens around the images. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_lens_halo_ad7bd297ae213a7619bad6991d13d8e79}{implant\+\_\+stars}} (Pos\+Type $\ast$center, long $\ast$seed, I\+M\+Ftype type=One)
\begin{DoxyCompactList}\small\item\em For implanting one patch of stars. See other implant\+\_\+stars. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a9368e432b10b667b960631e436183171}\label{class_lens_halo_a9368e432b10b667b960631e436183171}} 
void \mbox{\hyperlink{class_lens_halo_a9368e432b10b667b960631e436183171}{remove\+\_\+stars}} ()
\begin{DoxyCompactList}\small\item\em Un-\/implant stars. Remove stars an any information about the number and size of star regions. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a19d7ec432097e567741d6a3a333222bd}\label{class_lens_halo_a19d7ec432097e567741d6a3a333222bd}} 
I\+M\+Ftype {\bfseries get\+Star\+I\+M\+F\+\_\+type} () const
\item 
\mbox{\Hypertarget{class_lens_halo_afc4f95b1d57d79e67623ab73ce6b03b5}\label{class_lens_halo_afc4f95b1d57d79e67623ab73ce6b03b5}} 
Pos\+Type \mbox{\hyperlink{class_lens_halo_afc4f95b1d57d79e67623ab73ce6b03b5}{get\+Fstars}} () const
\begin{DoxyCompactList}\small\item\em Fraction of surface density in stars. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a59e9896f1f6c37c80e05cc8503d22971}\label{class_lens_halo_a59e9896f1f6c37c80e05cc8503d22971}} 
Pos\+Type \mbox{\hyperlink{class_lens_halo_a59e9896f1f6c37c80e05cc8503d22971}{get\+Star\+Mass}} () const
\begin{DoxyCompactList}\small\item\em The mass of the stars if they are all the same mass. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_ae4e6a8b770a38df28c9bee8799385923}\label{class_lens_halo_ae4e6a8b770a38df28c9bee8799385923}} 
Ellip\+Method \mbox{\hyperlink{class_lens_halo_ae4e6a8b770a38df28c9bee8799385923}{get\+Ellip\+Method}} () const
\begin{DoxyCompactList}\small\item\em the method used to ellipticize a halo if fratio!=1 and halo is not N\+S\+IE \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_afbf395e2ec96c33289e7654732f05cf1}\label{class_lens_halo_afbf395e2ec96c33289e7654732f05cf1}} 
std\+::vector$<$ double $>$ \mbox{\hyperlink{class_lens_halo_afbf395e2ec96c33289e7654732f05cf1}{get\+\_\+mod}} ()
\begin{DoxyCompactList}\small\item\em get vector of Fourier modes, which are calculated in the constructors of the Lens\+Haloes when main\+\_\+ellip\+\_\+method is set to \textquotesingle{}Fourier\textquotesingle{} \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a314019a0eac186c6fc7aca2e466ffd46}\label{class_lens_halo_a314019a0eac186c6fc7aca2e466ffd46}} 
virtual std\+::size\+\_\+t \mbox{\hyperlink{class_lens_halo_a314019a0eac186c6fc7aca2e466ffd46}{Nparams}} () const
\begin{DoxyCompactList}\small\item\em get the number of halo parameters \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a7c6257df5c75a20d7f306cc9f4980a52}\label{class_lens_halo_a7c6257df5c75a20d7f306cc9f4980a52}} 
virtual Pos\+Type \mbox{\hyperlink{class_lens_halo_a7c6257df5c75a20d7f306cc9f4980a52}{get\+Param}} (std\+::size\+\_\+t p) const
\begin{DoxyCompactList}\small\item\em get the value of a scaled halo parameter by index \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a53aa267154c7a5e2b60647be2d585bb9}\label{class_lens_halo_a53aa267154c7a5e2b60647be2d585bb9}} 
virtual Pos\+Type \mbox{\hyperlink{class_lens_halo_a53aa267154c7a5e2b60647be2d585bb9}{set\+Param}} (std\+::size\+\_\+t p, Pos\+Type value)
\begin{DoxyCompactList}\small\item\em set the value of a scaled halo parameter by index \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_ab75f44fbd91c08d9f2bc03b5fe9d649a}\label{class_lens_halo_ab75f44fbd91c08d9f2bc03b5fe9d649a}} 
virtual void \mbox{\hyperlink{class_lens_halo_ab75f44fbd91c08d9f2bc03b5fe9d649a}{print\+C\+SV}} (std\+::ostream \&, bool header=false) const
\begin{DoxyCompactList}\small\item\em print the halo parameters in C\+SV format \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a8a024004c1edf9060e3acf0d607e9a0c}\label{class_lens_halo_a8a024004c1edf9060e3acf0d607e9a0c}} 
void \mbox{\hyperlink{class_lens_halo_a8a024004c1edf9060e3acf0d607e9a0c}{Print\+Stars}} (bool show\+\_\+stars)
\begin{DoxyCompactList}\small\item\em Prints star parameters; if show\+\_\+stars is true, prints data for single stars. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a7184a202e39fac7cf8f7d0436abdc982}\label{class_lens_halo_a7184a202e39fac7cf8f7d0436abdc982}} 
Pos\+Type \mbox{\hyperlink{class_lens_halo_a7184a202e39fac7cf8f7d0436abdc982}{Mass\+By2\+D\+Integation}} (Pos\+Type R)
\begin{DoxyCompactList}\small\item\em calculates the mass within radius R by integating kappa in theta and R, used only for testing \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_aeac398d7784e8a879eebeb2174349d61}\label{class_lens_halo_aeac398d7784e8a879eebeb2174349d61}} 
Pos\+Type \mbox{\hyperlink{class_lens_halo_aeac398d7784e8a879eebeb2174349d61}{Mass\+By1\+D\+Integation}} (Pos\+Type R)
\begin{DoxyCompactList}\small\item\em calculates the mass within radius R by integating alpha on a ring and using Gauss\textquotesingle{} law, used only for testing \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_accfed225ceb5c6684ac983ae89adfebd}\label{class_lens_halo_accfed225ceb5c6684ac983ae89adfebd}} 
Pos\+Type \mbox{\hyperlink{class_lens_halo_accfed225ceb5c6684ac983ae89adfebd}{test\+\_\+average\+\_\+gt}} (Pos\+Type R)
\begin{DoxyCompactList}\small\item\em calculates the average gamma\+\_\+t for \mbox{\hyperlink{class_lens_halo_a9b357894d8d644741be0cec08e45bb30}{Lens\+Halo\+::test()}} \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a623515f1a7b01a1198ff8707143a1ab2}\label{class_lens_halo_a623515f1a7b01a1198ff8707143a1ab2}} 
Pos\+Type {\bfseries test\+\_\+average\+\_\+kappa} (Pos\+Type R)
\item 
\mbox{\Hypertarget{class_lens_halo_a99be51dee88c24dcde18aec921ba0623}\label{class_lens_halo_a99be51dee88c24dcde18aec921ba0623}} 
void {\bfseries set\+\_\+norm\+\_\+factor} ()
\item 
\mbox{\Hypertarget{class_lens_halo_ab67216d6042f33cd8d8482e6fceb8b39}\label{class_lens_halo_ab67216d6042f33cd8d8482e6fceb8b39}} 
void \mbox{\hyperlink{class_lens_halo_ab67216d6042f33cd8d8482e6fceb8b39}{set\+\_\+rsize}} (float my\+\_\+rsize)
\begin{DoxyCompactList}\small\item\em set radius rsize beyond which interpolation values between alpha\+\_\+ellip and alpha\+\_\+iso are computed \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_acdadaa32362226374fb01db7ca1dd859}\label{class_lens_halo_acdadaa32362226374fb01db7ca1dd859}} 
float {\bfseries get\+\_\+rsize} ()
\item 
bool \mbox{\hyperlink{class_lens_halo_a9b357894d8d644741be0cec08e45bb30}{test}} ()
\begin{DoxyCompactList}\small\item\em perform some basic consistancy checks for halo \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_ab9c715bf4421f34be79893ac18ae7aeb}\label{class_lens_halo_ab9c715bf4421f34be79893ac18ae7aeb}} 
size\+\_\+t {\bfseries get\+ID} () const
\item 
\mbox{\Hypertarget{class_lens_halo_a7d166dd18b6d418c297ff41299ed2403}\label{class_lens_halo_a7d166dd18b6d418c297ff41299ed2403}} 
void {\bfseries set\+ID} (size\+\_\+t id)
\item 
\mbox{\Hypertarget{class_lens_halo_a688f0421e457ac4b206ad61be3d0863c}\label{class_lens_halo_a688f0421e457ac4b206ad61be3d0863c}} 
Pos\+Type {\bfseries renormalization} (Pos\+Type r\+\_\+max)
\item 
\mbox{\hyperlink{class_pixel_map}{Pixel\+Map}} \mbox{\hyperlink{class_lens_halo_a81b1a30f1fe716a34799469554693f6e}{map\+\_\+variables}} (Lensing\+Variable lensvar, size\+\_\+t Nx, size\+\_\+t Ny, double res)
\begin{DoxyCompactList}\small\item\em Map a \mbox{\hyperlink{class_pixel_map}{Pixel\+Map}} of the surface, density, potential and potential gradient centred on (0,0) in Len\+Halo coordinates. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_lens_halo_a37bed2edc60ce4932c7fc854fe972f01}\label{class_lens_halo_a37bed2edc60ce4932c7fc854fe972f01}} 
static const int \mbox{\hyperlink{class_lens_halo_a37bed2edc60ce4932c7fc854fe972f01}{get\+\_\+\+Nmod}} ()
\begin{DoxyCompactList}\small\item\em get length of mod array, which is Nmod. Not to be confused with get\+Nmodes in the class \mbox{\hyperlink{class_lens_halo_fit}{Lens\+Halo\+Fit}} \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_lens_halo_a3e73f06df4d909f1bff909016cc839b2}\label{class_lens_halo_a3e73f06df4d909f1bff909016cc839b2}} 
Pos\+Type \mbox{\hyperlink{class_lens_halo_a3e73f06df4d909f1bff909016cc839b2}{alpha\+\_\+int}} (Pos\+Type x) const
\begin{DoxyCompactList}\small\item\em Calculates potential (phi\+\_\+int) from alpha\+\_\+h. If flag is\+\_\+alphah\+\_\+a\+\_\+table is True it takes and integrates directly the gfunction instead of alpha\+\_\+h. The gfunction is used for the Interpolation\+Table used in alpha\+\_\+h. Setting the flag to False speeds up the calculation of phi\+\_\+h. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a9bdcebc37b6378468bfd25e6a888d076}\label{class_lens_halo_a9bdcebc37b6378468bfd25e6a888d076}} 
Pos\+Type {\bfseries norm\+\_\+int} (Pos\+Type r\+\_\+max)
\item 
void \mbox{\hyperlink{class_lens_halo_a374d199861689b8186c04d29bf92d6a2}{force\+\_\+halo\+\_\+sym}} (Pos\+Type $\ast$alpha, Kappa\+Type $\ast$kappa, Kappa\+Type $\ast$gamma, Kappa\+Type $\ast$phi, Pos\+Type const $\ast$xcm, bool subtract\+\_\+point=false, Pos\+Type screening=1.\+0)
\begin{DoxyCompactList}\small\item\em returns the lensing quantities of a ray in center of mass coordinates for a symmetric halo \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_lens_halo_a78cc531d36104d72bec891424aba9fcb}{force\+\_\+halo\+\_\+asym}} (Pos\+Type $\ast$alpha, Kappa\+Type $\ast$kappa, Kappa\+Type $\ast$gamma, Kappa\+Type $\ast$phi, Pos\+Type const $\ast$xcm, bool subtract\+\_\+point=false, Pos\+Type screening=1.\+0)
\item 
\mbox{\Hypertarget{class_lens_halo_a72e7258f740e6d564b00813e3c465854}\label{class_lens_halo_a72e7258f740e6d564b00813e3c465854}} 
void \mbox{\hyperlink{class_lens_halo_a72e7258f740e6d564b00813e3c465854}{substract\+\_\+stars\+\_\+disks}} (Pos\+Type const $\ast$ray, Pos\+Type $\ast$alpha, Kappa\+Type $\ast$kappa, Kappa\+Type $\ast$gamma)
\begin{DoxyCompactList}\small\item\em subtracts the mass in stars from the smooth model to compensate for the mass of the stars the lensing quantities are all updated not replaced \end{DoxyCompactList}\item 
std\+::vector$<$ float $>$ \mbox{\hyperlink{class_lens_halo_abfdd17695d04ce50bd97c695e30e07d5}{stellar\+\_\+mass\+\_\+function}} (I\+M\+Ftype type, unsigned long Nstars, long $\ast$seed, Pos\+Type minmass=0.\+0, Pos\+Type maxmass=0.\+0, Pos\+Type bendmass=0.\+0, Pos\+Type powerlo=0.\+0, Pos\+Type powerhi=0.\+0)
\begin{DoxyCompactList}\small\item\em random stellar masses according to I\+MF of choice \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a187b1e7e055d69419bf214ebf588af6d}\label{class_lens_halo_a187b1e7e055d69419bf214ebf588af6d}} 
void \mbox{\hyperlink{class_lens_halo_a187b1e7e055d69419bf214ebf588af6d}{assign\+Params}} (\mbox{\hyperlink{class_input_params}{Input\+Params}} \&params, bool need\+Rsize)
\begin{DoxyCompactList}\small\item\em read in parameters from a parameterfile in \mbox{\hyperlink{class_input_params}{Input\+Params}} params \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a5e90e2a14f5330c8515c9a7a816be081}\label{class_lens_halo_a5e90e2a14f5330c8515c9a7a816be081}} 
void \mbox{\hyperlink{class_lens_halo_a5e90e2a14f5330c8515c9a7a816be081}{assign\+Params\+\_\+stars}} (\mbox{\hyperlink{class_input_params}{Input\+Params}} \&params)
\begin{DoxyCompactList}\small\item\em read in star parameters. This is valid for all halos and not overloaded. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a6a8cf22c76bab7821b1b0ee3b50ea75f}\label{class_lens_halo_a6a8cf22c76bab7821b1b0ee3b50ea75f}} 
void \mbox{\hyperlink{class_lens_halo_a6a8cf22c76bab7821b1b0ee3b50ea75f}{error\+\_\+message1}} (std\+::string name, std\+::string filename)
\begin{DoxyCompactList}\small\item\em error message printout \end{DoxyCompactList}\item 
virtual Pos\+Type \mbox{\hyperlink{class_lens_halo_a9295b7b1d0a66b3742a81ead5bf2a863}{alpha\+\_\+h}} (Pos\+Type x) const
\item 
\mbox{\Hypertarget{class_lens_halo_afc3208eaa2387188d7b993492e7fc943}\label{class_lens_halo_afc3208eaa2387188d7b993492e7fc943}} 
virtual Kappa\+Type {\bfseries kappa\+\_\+h} (Pos\+Type x) const
\item 
\mbox{\Hypertarget{class_lens_halo_a10a4225fcf4ca10382387d7d5e3fd9a8}\label{class_lens_halo_a10a4225fcf4ca10382387d7d5e3fd9a8}} 
virtual Kappa\+Type {\bfseries gamma\+\_\+h} (Pos\+Type x) const
\item 
\mbox{\Hypertarget{class_lens_halo_a5df62ccc11cfed7166c87c2673898d38}\label{class_lens_halo_a5df62ccc11cfed7166c87c2673898d38}} 
virtual Kappa\+Type {\bfseries phi\+\_\+h} (Pos\+Type x) const
\item 
\mbox{\Hypertarget{class_lens_halo_a803e7664baf9e8013c50186071f16eff}\label{class_lens_halo_a803e7664baf9e8013c50186071f16eff}} 
virtual Kappa\+Type {\bfseries phi\+\_\+int} (Pos\+Type x) const
\item 
\mbox{\Hypertarget{class_lens_halo_af80e777cff1d466b05b6a8c4ad76fa21}\label{class_lens_halo_af80e777cff1d466b05b6a8c4ad76fa21}} 
virtual Pos\+Type {\bfseries ffunction} (Pos\+Type x) const
\item 
\mbox{\Hypertarget{class_lens_halo_ade01d4754df1d7abed132aa5a12d2d27}\label{class_lens_halo_ade01d4754df1d7abed132aa5a12d2d27}} 
virtual Pos\+Type {\bfseries gfunction} (Pos\+Type x) const
\item 
\mbox{\Hypertarget{class_lens_halo_afd32cc0fabbd80618c7784651d155650}\label{class_lens_halo_afd32cc0fabbd80618c7784651d155650}} 
virtual Pos\+Type {\bfseries dgfunctiondx} (Pos\+Type x)
\item 
\mbox{\Hypertarget{class_lens_halo_ad07323eaf1b4c6e29c6cc249b71ea726}\label{class_lens_halo_ad07323eaf1b4c6e29c6cc249b71ea726}} 
virtual Pos\+Type {\bfseries bfunction} (Pos\+Type x)
\item 
\mbox{\Hypertarget{class_lens_halo_ae22f99b517eec14091ec3eb663591bb7}\label{class_lens_halo_ae22f99b517eec14091ec3eb663591bb7}} 
virtual Pos\+Type {\bfseries dhfunction} (Pos\+Type x) const
\item 
\mbox{\Hypertarget{class_lens_halo_a8fd4e604b9e28ee87e716be048a3145a}\label{class_lens_halo_a8fd4e604b9e28ee87e716be048a3145a}} 
virtual Pos\+Type {\bfseries ddhfunction} (Pos\+Type x, bool numerical)
\item 
\mbox{\Hypertarget{class_lens_halo_afed87cfb38a39271a05907368cd0eb22}\label{class_lens_halo_afed87cfb38a39271a05907368cd0eb22}} 
virtual Pos\+Type {\bfseries dddhfunction} (Pos\+Type x, bool numerical)
\item 
\mbox{\Hypertarget{class_lens_halo_ad5a6229ceef156edf7eb74e3aef9102d}\label{class_lens_halo_ad5a6229ceef156edf7eb74e3aef9102d}} 
virtual Pos\+Type {\bfseries bnumfunction} (Pos\+Type x)
\item 
\mbox{\Hypertarget{class_lens_halo_a66436078b5f980bddfdd29342c449a28}\label{class_lens_halo_a66436078b5f980bddfdd29342c449a28}} 
virtual Pos\+Type {\bfseries dbfunction} (Pos\+Type x)
\item 
\mbox{\Hypertarget{class_lens_halo_a82da8118fbc40376740cb196cd7ef58d}\label{class_lens_halo_a82da8118fbc40376740cb196cd7ef58d}} 
virtual Pos\+Type {\bfseries ddbfunction} (Pos\+Type x)
\item 
\mbox{\Hypertarget{class_lens_halo_afeafc7e19741a79fdf5b2d1e3b21f2ee}\label{class_lens_halo_afeafc7e19741a79fdf5b2d1e3b21f2ee}} 
virtual Pos\+Type {\bfseries dmoddb} (int whichmod, Pos\+Type q, Pos\+Type b)
\item 
\mbox{\Hypertarget{class_lens_halo_a024a372d7a18f3a6f6310f96d79896c2}\label{class_lens_halo_a024a372d7a18f3a6f6310f96d79896c2}} 
virtual Pos\+Type {\bfseries ddmoddb} (int whichmod, Pos\+Type q, Pos\+Type b)
\item 
\mbox{\Hypertarget{class_lens_halo_a14d2007d76887dd9318aa455bf49451c}\label{class_lens_halo_a14d2007d76887dd9318aa455bf49451c}} 
virtual Pos\+Type {\bfseries dmoddq} (int whichmod, Pos\+Type q, Pos\+Type b)
\item 
\mbox{\Hypertarget{class_lens_halo_a8064d1ab8a14d28c058e81715fb88e4b}\label{class_lens_halo_a8064d1ab8a14d28c058e81715fb88e4b}} 
virtual Pos\+Type {\bfseries ddmoddq} (int whichmod, Pos\+Type q, Pos\+Type b)
\item 
void \mbox{\hyperlink{class_lens_halo_a825833ac8df009db76b5e4b4b4e140f9}{faxial}} (Pos\+Type x, Pos\+Type theta, Pos\+Type f\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em If set to true the correct normalization is applied for asymmetric N\+FW profiles, the mass\+\_\+norm\+\_\+factor is different for the other halos. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_afcf1b69b48f17cfc7080b8cdf7ac8f1e}\label{class_lens_halo_afcf1b69b48f17cfc7080b8cdf7ac8f1e}} 
void {\bfseries faxial0} (Pos\+Type theta, Pos\+Type f0\mbox{[}$\,$\mbox{]})
\item 
\mbox{\Hypertarget{class_lens_halo_a79e0a816d35fd07f278f439cb2ce3f79}\label{class_lens_halo_a79e0a816d35fd07f278f439cb2ce3f79}} 
void {\bfseries faxial1} (Pos\+Type theta, Pos\+Type f1\mbox{[}$\,$\mbox{]})
\item 
\mbox{\Hypertarget{class_lens_halo_ab8fd1633aa0e64d5a05a38946735fa9c}\label{class_lens_halo_ab8fd1633aa0e64d5a05a38946735fa9c}} 
void {\bfseries faxial2} (Pos\+Type theta, Pos\+Type f2\mbox{[}$\,$\mbox{]})
\item 
\mbox{\Hypertarget{class_lens_halo_aea13e7ff3d95622bbb38fffd672045fa}\label{class_lens_halo_aea13e7ff3d95622bbb38fffd672045fa}} 
void \mbox{\hyperlink{class_lens_halo_aea13e7ff3d95622bbb38fffd672045fa}{gradial}} (Pos\+Type r, Pos\+Type g\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Derivatives of the potential damping factor with respect to r ... T\+O\+DO\+: come up with a better damping faction. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_af1890cf8ca25442b8aff73cbd000d6d3}\label{class_lens_halo_af1890cf8ca25442b8aff73cbd000d6d3}} 
void {\bfseries gradial2} (Pos\+Type r, Pos\+Type mu, Pos\+Type sigma, Pos\+Type g\mbox{[}$\,$\mbox{]})
\item 
void \mbox{\hyperlink{class_lens_halo_a70d44bd2ef4edee5fb918a61cf5d3fcf}{felliptical}} (Pos\+Type x, Pos\+Type q, Pos\+Type theta, Pos\+Type f\mbox{[}$\,$\mbox{]}, Pos\+Type g\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Calculate the derivatives of the G function = r$\ast$sqrt(cos(theta)$^\wedge$2 + q(r)$^\wedge$2 sin(theta)) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a3bc0658070c104766a8803ab16bc9d8c}\label{class_lens_halo_a3bc0658070c104766a8803ab16bc9d8c}} 
virtual void {\bfseries gamma\+\_\+asym} (Pos\+Type x, Pos\+Type theta, Pos\+Type gamma\mbox{[}$\,$\mbox{]})
\item 
virtual Pos\+Type \mbox{\hyperlink{class_lens_halo_ac3f16aeffae590925d115799698ebaf4}{kappa\+\_\+asym}} (Pos\+Type x, Pos\+Type theta)
\item 
virtual void \mbox{\hyperlink{class_lens_halo_a7e68cb08c90a52d21f6af474acfc20e2}{alphakappagamma\+\_\+asym}} (Pos\+Type x, Pos\+Type theta, Pos\+Type alpha\mbox{[}$\,$\mbox{]}, Pos\+Type $\ast$kappa, Pos\+Type gamma\mbox{[}$\,$\mbox{]}, Pos\+Type $\ast$phi)
\begin{DoxyCompactList}\small\item\em Pseudo-\/elliptical profiles by Phi(\+G)-\/Ansatz. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_lens_halo_ab90367cd516c00c93e8608894732e965}{alphakappagamma1asym}} (Pos\+Type x, Pos\+Type theta, Pos\+Type alpha\mbox{[}2\mbox{]}, Pos\+Type $\ast$kappa, Pos\+Type gamma\mbox{[}$\,$\mbox{]}, Pos\+Type $\ast$phi)
\begin{DoxyCompactList}\small\item\em Elliptical profiles by Fourier-\/\+Ansatz. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a22f5eff85c4091520e20937fbbdedb89}\label{class_lens_halo_a22f5eff85c4091520e20937fbbdedb89}} 
virtual void {\bfseries alphakappagamma2asym} (Pos\+Type x, Pos\+Type theta, Pos\+Type alpha\mbox{[}2\mbox{]}, Pos\+Type $\ast$kappa, Pos\+Type gamma\mbox{[}$\,$\mbox{]}, Pos\+Type $\ast$phi)
\item 
\mbox{\Hypertarget{class_lens_halo_a4ec90ed70c99fec8f77d4aced3655f71}\label{class_lens_halo_a4ec90ed70c99fec8f77d4aced3655f71}} 
virtual void {\bfseries alphakappagamma3asym} (Pos\+Type x, Pos\+Type theta, Pos\+Type alpha\mbox{[}2\mbox{]}, Pos\+Type $\ast$kappa, Pos\+Type gamma\mbox{[}$\,$\mbox{]}, Pos\+Type $\ast$phi)
\item 
\mbox{\Hypertarget{class_lens_halo_a6321303e6a1b6f6085ebf2c4160e540a}\label{class_lens_halo_a6321303e6a1b6f6085ebf2c4160e540a}} 
virtual Pos\+Type {\bfseries alpha\+\_\+ell} (Pos\+Type x, Pos\+Type theta)
\item 
\mbox{\Hypertarget{class_lens_halo_aea2b2ded8c4b6a3b65df46c1fc265b97}\label{class_lens_halo_aea2b2ded8c4b6a3b65df46c1fc265b97}} 
double \mbox{\hyperlink{class_lens_halo_aea2b2ded8c4b6a3b65df46c1fc265b97}{fourier\+\_\+coeff}} (double n, double q, double beta)
\begin{DoxyCompactList}\small\item\em Calculates fourier-\/coefficients for power law halo. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a9eeb27b238f1f360deabe74bee8a6da7}\label{class_lens_halo_a9eeb27b238f1f360deabe74bee8a6da7}} 
double {\bfseries I\+D\+A\+X\+DM} (double lambda, double a2, double b2, double x\mbox{[}$\,$\mbox{]}, double rmax, double mo)
\item 
\mbox{\Hypertarget{class_lens_halo_a19fe754aca7d3f257f20b17e1269e72f}\label{class_lens_halo_a19fe754aca7d3f257f20b17e1269e72f}} 
double {\bfseries I\+D\+A\+Y\+DM} (double lambda, double a2, double b2, double x\mbox{[}$\,$\mbox{]}, double rmax, double mo)
\item 
\mbox{\Hypertarget{class_lens_halo_ad4e125851694b3dc3a8d0a489019a4ec}\label{class_lens_halo_ad4e125851694b3dc3a8d0a489019a4ec}} 
double {\bfseries S\+C\+H\+R\+A\+M\+M\+KN} (double n, double x\mbox{[}$\,$\mbox{]}, double rmax)
\item 
\mbox{\Hypertarget{class_lens_halo_a66984ae6e909a0b93a12daf2f0700e27}\label{class_lens_halo_a66984ae6e909a0b93a12daf2f0700e27}} 
double {\bfseries S\+C\+H\+R\+A\+M\+M\+JN} (double n, double x\mbox{[}$\,$\mbox{]}, double rmax)
\item 
\mbox{\Hypertarget{class_lens_halo_a9e2e568ed0e4a92359104e1790bedd50}\label{class_lens_halo_a9e2e568ed0e4a92359104e1790bedd50}} 
double {\bfseries S\+C\+H\+R\+A\+M\+MI} (double x\mbox{[}$\,$\mbox{]}, double rmax)
\item 
\mbox{\Hypertarget{class_lens_halo_a429dcab3579fa5291bf82f0484c0a480}\label{class_lens_halo_a429dcab3579fa5291bf82f0484c0a480}} 
void \mbox{\hyperlink{class_lens_halo_a429dcab3579fa5291bf82f0484c0a480}{calc\+Modes}} (double q, double beta, double rottheta, Pos\+Type newmod\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Calculates the modes for fourier expansion of power law halo. All the modes are relative to the zero mode to conserve mass throughout the calculation of kappa etc. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a93e605fbbd02b1b1cb1d055d45eaad3f}\label{class_lens_halo_a93e605fbbd02b1b1cb1d055d45eaad3f}} 
void {\bfseries calc\+ModesB} (Pos\+Type x, double q, double beta, double rottheta, Pos\+Type newmod\mbox{[}$\,$\mbox{]})
\item 
\mbox{\Hypertarget{class_lens_halo_a9a8c7680ceb818d6e451c0cf7338dbea}\label{class_lens_halo_a9a8c7680ceb818d6e451c0cf7338dbea}} 
void {\bfseries calc\+ModesC} (Pos\+Type beta\+\_\+r, double q, double rottheta, Pos\+Type newmod\mbox{[}$\,$\mbox{]})
\item 
\mbox{\Hypertarget{class_lens_halo_aef1b96851a1b51b3989deaf515ca7ac1}\label{class_lens_halo_aef1b96851a1b51b3989deaf515ca7ac1}} 
virtual Pos\+Type {\bfseries Interpolate\+Modes} (int whichmod, Pos\+Type q, Pos\+Type b)
\item 
void \mbox{\hyperlink{class_lens_halo_affb1ead96e81d87f61d45e09a6f6fb3f}{anal\+Modes}} (int modnumber, Pos\+Type my\+\_\+beta, Pos\+Type q, Pos\+Type amod\mbox{[}3\mbox{]})
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_lens_halo_a2490fd690c49693c4060cc261de6da95}\label{class_lens_halo_a2490fd690c49693c4060cc261de6da95}} 
Pos\+Type {\bfseries Dist}
\item 
\mbox{\Hypertarget{class_lens_halo_a514e07a2b4b1e56a4855834428213e76}\label{class_lens_halo_a514e07a2b4b1e56a4855834428213e76}} 
Pos\+Type {\bfseries mnorm}
\item 
\mbox{\Hypertarget{class_lens_halo_a448c84635275841d82d3fdd809ee577c}\label{class_lens_halo_a448c84635275841d82d3fdd809ee577c}} 
float {\bfseries Rmax}
\item 
\mbox{\Hypertarget{class_lens_halo_afb1ae46079537d999ca651ebc0cec1e9}\label{class_lens_halo_afb1ae46079537d999ca651ebc0cec1e9}} 
std\+::vector$<$ Index\+Type $>$ {\bfseries stars\+\_\+index}
\item 
\mbox{\Hypertarget{class_lens_halo_a525af4dadf030d3f6009a416dcafb3d8}\label{class_lens_halo_a525af4dadf030d3f6009a416dcafb3d8}} 
std\+::vector$<$ \mbox{\hyperlink{struct_star_type}{Star\+Type}} $>$ {\bfseries stars\+\_\+xp}
\item 
\mbox{\Hypertarget{class_lens_halo_a08010e8144a5b0a9acbfe7cfb94bf624}\label{class_lens_halo_a08010e8144a5b0a9acbfe7cfb94bf624}} 
\mbox{\hyperlink{class_tree_quad_particles}{Tree\+Quad\+Particles}}$<$ \mbox{\hyperlink{struct_star_type}{Star\+Type}} $>$ $\ast$ {\bfseries star\+\_\+tree}
\item 
\mbox{\Hypertarget{class_lens_halo_a1f4b061e565a3ea142cfae10f43324da}\label{class_lens_halo_a1f4b061e565a3ea142cfae10f43324da}} 
int {\bfseries stars\+\_\+N}
\item 
\mbox{\Hypertarget{class_lens_halo_a8a84a4dd340b1783d49c78004b84f923}\label{class_lens_halo_a8a84a4dd340b1783d49c78004b84f923}} 
Pos\+Type {\bfseries star\+\_\+massscale}
\item 
\mbox{\Hypertarget{class_lens_halo_ac7311b734e9dc9161bd45179ea7eee9a}\label{class_lens_halo_ac7311b734e9dc9161bd45179ea7eee9a}} 
Pos\+Type \mbox{\hyperlink{class_lens_halo_ac7311b734e9dc9161bd45179ea7eee9a}{star\+\_\+fstars}}
\begin{DoxyCompactList}\small\item\em star masses relative to star\+\_\+massscles \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a13b83d4ded051019ea8fc534819ea3bb}\label{class_lens_halo_a13b83d4ded051019ea8fc534819ea3bb}} 
Pos\+Type {\bfseries star\+\_\+theta\+\_\+force}
\item 
\mbox{\Hypertarget{class_lens_halo_a9501bedd450033813cc36856b5163892}\label{class_lens_halo_a9501bedd450033813cc36856b5163892}} 
int {\bfseries star\+\_\+\+Nregions}
\item 
\mbox{\Hypertarget{class_lens_halo_a8af89175060a67dc694d6d488782e98f}\label{class_lens_halo_a8af89175060a67dc694d6d488782e98f}} 
std\+::vector$<$ Pos\+Type $>$ {\bfseries star\+\_\+region}
\item 
\mbox{\Hypertarget{class_lens_halo_a723e750651bae13ac5fbe877ca9f4848}\label{class_lens_halo_a723e750651bae13ac5fbe877ca9f4848}} 
Pos\+Type {\bfseries beta}
\item 
\mbox{\Hypertarget{class_lens_halo_abe2665d12192e49e464127dd3b78a96d}\label{class_lens_halo_abe2665d12192e49e464127dd3b78a96d}} 
float \mbox{\hyperlink{class_lens_halo_abe2665d12192e49e464127dd3b78a96d}{Rmax\+\_\+to\+\_\+\+Rsize\+\_\+ratio}} = 1.\+2
\begin{DoxyCompactList}\small\item\em The factor by which Rmax is larger than Rsize. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_ad0138e93c3a165ae25cd42bea42c4c4b}\label{class_lens_halo_ad0138e93c3a165ae25cd42bea42c4c4b}} 
float \mbox{\hyperlink{class_lens_halo_ad0138e93c3a165ae25cd42bea42c4c4b}{rscale}}
\begin{DoxyCompactList}\small\item\em scale length or core size. Different meaning in different cases. Not used in N\+S\+IE case. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_abe9720cc03d8759d1eae17ee9559860a}\label{class_lens_halo_abe9720cc03d8759d1eae17ee9559860a}} 
bool {\bfseries stars\+\_\+implanted}
\item 
\mbox{\Hypertarget{class_lens_halo_a313dec21cf741b6eb58c6512db63c17e}\label{class_lens_halo_a313dec21cf741b6eb58c6512db63c17e}} 
I\+M\+Ftype \mbox{\hyperlink{class_lens_halo_a313dec21cf741b6eb58c6512db63c17e}{main\+\_\+stars\+\_\+imf\+\_\+type}}
\begin{DoxyCompactList}\small\item\em Number of regions to be subtracted to compensate for the mass in stars. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a4f45772dfc2345d6fcc47b0571c2339e}\label{class_lens_halo_a4f45772dfc2345d6fcc47b0571c2339e}} 
Pos\+Type {\bfseries main\+\_\+stars\+\_\+min\+\_\+mass}
\item 
\mbox{\Hypertarget{class_lens_halo_af57638309c1276452cb89d3cbeaeacd9}\label{class_lens_halo_af57638309c1276452cb89d3cbeaeacd9}} 
Pos\+Type {\bfseries main\+\_\+stars\+\_\+max\+\_\+mass}
\item 
\mbox{\Hypertarget{class_lens_halo_a018177e0a213dadafa1d4c3788d282e2}\label{class_lens_halo_a018177e0a213dadafa1d4c3788d282e2}} 
Ellip\+Method {\bfseries main\+\_\+ellip\+\_\+method}
\item 
\mbox{\Hypertarget{class_lens_halo_a02446ad30537a1646a47a8939a69031f}\label{class_lens_halo_a02446ad30537a1646a47a8939a69031f}} 
Pos\+Type {\bfseries bend\+\_\+mstar}
\item 
\mbox{\Hypertarget{class_lens_halo_a16ddcb203f3ebcdabc591da9dcd2b1fa}\label{class_lens_halo_a16ddcb203f3ebcdabc591da9dcd2b1fa}} 
Pos\+Type {\bfseries lo\+\_\+mass\+\_\+slope}
\item 
\mbox{\Hypertarget{class_lens_halo_a7ac7a861b6327bf1d5236542dababdfa}\label{class_lens_halo_a7ac7a861b6327bf1d5236542dababdfa}} 
Pos\+Type {\bfseries hi\+\_\+mass\+\_\+slope}
\item 
\mbox{\Hypertarget{class_lens_halo_ae60e512a990463f98f491f76425fe602}\label{class_lens_halo_ae60e512a990463f98f491f76425fe602}} 
std\+::vector$<$ Pos\+Type $>$ \mbox{\hyperlink{class_lens_halo_ae60e512a990463f98f491f76425fe602}{star\+\_\+\+Sigma}}
\begin{DoxyCompactList}\small\item\em parameters for stellar mass function\+: minimal and maximal stellar mass, bending point for a broken power law I\+MF \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_a3d882113e7e5e3b979bfc92922cf5c9b}\label{class_lens_halo_a3d882113e7e5e3b979bfc92922cf5c9b}} 
std\+::vector$<$ \mbox{\hyperlink{struct_point__2d}{Point\+\_\+2d}} $>$ {\bfseries star\+\_\+xdisk}
\item 
\mbox{\Hypertarget{class_lens_halo_acede9c649fa9ea433fe85343c702493e}\label{class_lens_halo_acede9c649fa9ea433fe85343c702493e}} 
Pos\+Type {\bfseries xmax}
\item 
\mbox{\Hypertarget{class_lens_halo_a43de5eba625d4c78e85e2fdb8bbeaa0e}\label{class_lens_halo_a43de5eba625d4c78e85e2fdb8bbeaa0e}} 
Pos\+Type \mbox{\hyperlink{class_lens_halo_a43de5eba625d4c78e85e2fdb8bbeaa0e}{mass\+\_\+norm\+\_\+factor}} =1
\begin{DoxyCompactList}\small\item\em This is Rsize/rscale !! \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_ac4b036ad68ac953d088cf09d1927f07c}\label{class_lens_halo_ac4b036ad68ac953d088cf09d1927f07c}} 
float {\bfseries pa}
\item 
\mbox{\Hypertarget{class_lens_halo_a97172c1beb13c6edc1df926e88f10e20}\label{class_lens_halo_a97172c1beb13c6edc1df926e88f10e20}} 
float {\bfseries fratio} =1.\+0
\item 
\mbox{\Hypertarget{class_lens_halo_a76f6b912230385cfc6b86d8af22f9704}\label{class_lens_halo_a76f6b912230385cfc6b86d8af22f9704}} 
bool {\bfseries elliptical\+\_\+flag} = false
\item 
\mbox{\Hypertarget{class_lens_halo_af315fe46ce335e68db940892611f5a6f}\label{class_lens_halo_af315fe46ce335e68db940892611f5a6f}} 
bool {\bfseries switch\+\_\+flag} = false
\item 
\mbox{\Hypertarget{class_lens_halo_a90712ac51a469dfa1bf89c43de336604}\label{class_lens_halo_a90712ac51a469dfa1bf89c43de336604}} 
Pos\+Type {\bfseries mod} \mbox{[}Nmod\mbox{]}
\item 
\mbox{\Hypertarget{class_lens_halo_a02af2f3b7d7eb9b62c3f184ba35bb457}\label{class_lens_halo_a02af2f3b7d7eb9b62c3f184ba35bb457}} 
Pos\+Type {\bfseries mod1} \mbox{[}Nmod\mbox{]}
\item 
\mbox{\Hypertarget{class_lens_halo_a62a68879784e317dec7c8f1803bd5863}\label{class_lens_halo_a62a68879784e317dec7c8f1803bd5863}} 
Pos\+Type {\bfseries mod2} \mbox{[}Nmod\mbox{]}
\item 
\mbox{\Hypertarget{class_lens_halo_a8e0bb97f00141f00fc2268c448a7fa07}\label{class_lens_halo_a8e0bb97f00141f00fc2268c448a7fa07}} 
Pos\+Type {\bfseries r\+\_\+eps}
\end{DoxyCompactItemize}
\doxysubsection*{Static Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_lens_halo_aaa69901d98efec6e7ceed7fe20fe98c0}\label{class_lens_halo_aaa69901d98efec6e7ceed7fe20fe98c0}} 
static const int {\bfseries Nmod} = 32
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A base class for all types of lensing \char`\"{}halos\char`\"{} which are any mass distribution that cause lensing. 

It contains the mass, maximum radius (Rsize), and scale radius (rscale) of the halo, as well as the redshift (zlens).

It has get and set functions for the members as well as virtual functions like\+: force\+\_\+halo that compute the lensing properties -- deflection, convergence, and shear.

Along with the simple set function, there are two general initialization functions, that calculate the rest of the properties based on some input lens halo parameter (e.\+g. mass).

init\+From\+File is intended to be used when the halo data is read in from a simulation file. In this case the general halo is assumed to be an N\+FW halo and therefore the maximum velocity and the half-\/mass radius need to be set. This function is overridden in derived classes and in cases where it is not applicable only the mass is taken into initializing the lensing halo.

init\+From\+Mass\+Func is intended for the cases where the simulation is populated by lensing halos from a mass function. Then one needs all parameters of the halo -- mass, Rsize, and rscale. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_lens_halo_a0b96fdb10f3a10a2b65085fa5883ec1f}\label{class_lens_halo_a0b96fdb10f3a10a2b65085fa5883ec1f}} 
\index{LensHalo@{LensHalo}!LensHalo@{LensHalo}}
\index{LensHalo@{LensHalo}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{LensHalo()}{LensHalo()}}
{\footnotesize\ttfamily Lens\+Halo\+::\+Lens\+Halo (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \&}]{h }\end{DoxyParamCaption})}

Identification number of halo. It is not always used.

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_lens_halo_a9295b7b1d0a66b3742a81ead5bf2a863}\label{class_lens_halo_a9295b7b1d0a66b3742a81ead5bf2a863}} 
\index{LensHalo@{LensHalo}!alpha\_h@{alpha\_h}}
\index{alpha\_h@{alpha\_h}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{alpha\_h()}{alpha\_h()}}
{\footnotesize\ttfamily virtual Pos\+Type Lens\+Halo\+::alpha\+\_\+h (\begin{DoxyParamCaption}\item[{Pos\+Type}]{x }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

point mass case r $\vert$alpha(r)$\vert$ pi Sigma\+\_\+crit / Mass 

Reimplemented in \mbox{\hyperlink{class_lens_halo_jaffe_a8a029f70ac374f3194acff4649101218}{Lens\+Halo\+Jaffe}}, \mbox{\hyperlink{class_lens_halo_hernquist_a56952beb7007848f3d2c0c11f4f886c6}{Lens\+Halo\+Hernquist}}, and \mbox{\hyperlink{class_lens_halo_n_f_w_adb9b25642affcf63ab35b4b05c9f99ac}{Lens\+Halo\+N\+FW}}.

\mbox{\Hypertarget{class_lens_halo_ab90367cd516c00c93e8608894732e965}\label{class_lens_halo_ab90367cd516c00c93e8608894732e965}} 
\index{LensHalo@{LensHalo}!alphakappagamma1asym@{alphakappagamma1asym}}
\index{alphakappagamma1asym@{alphakappagamma1asym}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{alphakappagamma1asym()}{alphakappagamma1asym()}}
{\footnotesize\ttfamily void Lens\+Halo\+::alphakappagamma1asym (\begin{DoxyParamCaption}\item[{Pos\+Type}]{x,  }\item[{Pos\+Type}]{theta,  }\item[{Pos\+Type}]{alpha\mbox{[}2\mbox{]},  }\item[{Pos\+Type $\ast$}]{kappa,  }\item[{Pos\+Type}]{gamma\mbox{[}$\,$\mbox{]},  }\item[{Pos\+Type $\ast$}]{phi }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Elliptical profiles by Fourier-\/\+Ansatz. 

with damping\mbox{\Hypertarget{class_lens_halo_a7e68cb08c90a52d21f6af474acfc20e2}\label{class_lens_halo_a7e68cb08c90a52d21f6af474acfc20e2}} 
\index{LensHalo@{LensHalo}!alphakappagamma\_asym@{alphakappagamma\_asym}}
\index{alphakappagamma\_asym@{alphakappagamma\_asym}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{alphakappagamma\_asym()}{alphakappagamma\_asym()}}
{\footnotesize\ttfamily void Lens\+Halo\+::alphakappagamma\+\_\+asym (\begin{DoxyParamCaption}\item[{Pos\+Type}]{r,  }\item[{Pos\+Type}]{theta,  }\item[{Pos\+Type}]{alpha\mbox{[}$\,$\mbox{]},  }\item[{Pos\+Type $\ast$}]{kappa,  }\item[{Pos\+Type}]{gamma\mbox{[}$\,$\mbox{]},  }\item[{Pos\+Type $\ast$}]{phi }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Pseudo-\/elliptical profiles by Phi(\+G)-\/Ansatz. 


\begin{DoxyParams}{Parameters}
{\em r} & Radius in Mpc (not scale lengths) \\
\hline
{\em theta} & angle of ray \\
\hline
{\em alpha} & output deflection \\
\hline
{\em kappa} & output kappa \\
\hline
{\em gamma} & outpot gamma \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_lens_halo_affb1ead96e81d87f61d45e09a6f6fb3f}\label{class_lens_halo_affb1ead96e81d87f61d45e09a6f6fb3f}} 
\index{LensHalo@{LensHalo}!analModes@{analModes}}
\index{analModes@{analModes}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{analModes()}{analModes()}}
{\footnotesize\ttfamily void Lens\+Halo\+::anal\+Modes (\begin{DoxyParamCaption}\item[{int}]{modnumber,  }\item[{Pos\+Type}]{my\+\_\+beta,  }\item[{Pos\+Type}]{q,  }\item[{Pos\+Type}]{amod\mbox{[}3\mbox{]} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Created on\+: March 28, 2014 Author\+: D. Leier \mbox{\Hypertarget{class_lens_halo_a81938111b0d90611edcff8b2d4dd8432}\label{class_lens_halo_a81938111b0d90611edcff8b2d4dd8432}} 
\index{LensHalo@{LensHalo}!displayPos@{displayPos}}
\index{displayPos@{displayPos}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{displayPos()}{displayPos()}}
{\footnotesize\ttfamily void Lens\+Halo\+::display\+Pos (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

get the position of the Halo in physical Mpc display the position of the halo \mbox{\Hypertarget{class_lens_halo_a825833ac8df009db76b5e4b4b4e140f9}\label{class_lens_halo_a825833ac8df009db76b5e4b4b4e140f9}} 
\index{LensHalo@{LensHalo}!faxial@{faxial}}
\index{faxial@{faxial}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{faxial()}{faxial()}}
{\footnotesize\ttfamily void Lens\+Halo\+::faxial (\begin{DoxyParamCaption}\item[{Pos\+Type}]{x,  }\item[{Pos\+Type}]{theta,  }\item[{Pos\+Type}]{f\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



If set to true the correct normalization is applied for asymmetric N\+FW profiles, the mass\+\_\+norm\+\_\+factor is different for the other halos. 

This function returns the lensing quantities for an asymmetric version of the symmetric baseclass halo.

This function should only be used by the second generation of classes derived from \mbox{\hyperlink{class_lens_halo}{Lens\+Halo}}.

The math needs to be Pos\+Type checked and the sign convention checked. The method used to make the lenses asymmetric is laid out in \href{http://metcalf1.bo.astro.it/~bmetcalf/ExtraNotes/notes_elliptical.pdf}{\texttt{ http\+://metcalf1.\+bo.\+astro.\+it/$\sim$bmetcalf/\+Extra\+Notes/notes\+\_\+elliptical.\+pdf}} Derivatives of the potential factor with respect to theta \mbox{\Hypertarget{class_lens_halo_a70d44bd2ef4edee5fb918a61cf5d3fcf}\label{class_lens_halo_a70d44bd2ef4edee5fb918a61cf5d3fcf}} 
\index{LensHalo@{LensHalo}!felliptical@{felliptical}}
\index{felliptical@{felliptical}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{felliptical()}{felliptical()}}
{\footnotesize\ttfamily void Lens\+Halo\+::felliptical (\begin{DoxyParamCaption}\item[{Pos\+Type}]{x,  }\item[{Pos\+Type}]{q,  }\item[{Pos\+Type}]{theta,  }\item[{Pos\+Type}]{f\mbox{[}$\,$\mbox{]},  }\item[{Pos\+Type}]{g\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Calculate the derivatives of the G function = r$\ast$sqrt(cos(theta)$^\wedge$2 + q(r)$^\wedge$2 sin(theta)) 

output\+: f\mbox{[}0\mbox{]} = G, f\mbox{[}1\mbox{]} = d\+G/dtheta, f\mbox{[}2\mbox{]} = ddg/dtheta$^\wedge$2, g\mbox{[}0\mbox{]} = R/r, g\mbox{[}1\mbox{]} = d\+G/dr , g\mbox{[}2\mbox{]} = dd\+G/dr$^\wedge$2, g\mbox{[}3\mbox{]} = dd\+G/dr/dtheta \mbox{\Hypertarget{class_lens_halo_a460de105e52520a328d5912455c02fdd}\label{class_lens_halo_a460de105e52520a328d5912455c02fdd}} 
\index{LensHalo@{LensHalo}!force\_halo@{force\_halo}}
\index{force\_halo@{force\_halo}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{force\_halo()}{force\_halo()}}
{\footnotesize\ttfamily void Lens\+Halo\+::force\+\_\+halo (\begin{DoxyParamCaption}\item[{Pos\+Type $\ast$}]{alpha,  }\item[{Kappa\+Type $\ast$}]{kappa,  }\item[{Kappa\+Type $\ast$}]{gamma,  }\item[{Kappa\+Type $\ast$}]{phi,  }\item[{Pos\+Type const $\ast$}]{xcm,  }\item[{bool}]{subtract\+\_\+point = {\ttfamily false},  }\item[{Pos\+Type}]{screening = {\ttfamily 1.0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



returns the lensing quantities of a ray in center of mass coordinates. 

Warning\+: This adds to input value of alpha, kappa, gamma, and phi. They need to be zeroed out if the contribution of just this halo is wanted. 
\begin{DoxyParams}{Parameters}
{\em alpha} & deflection solar mass/\+Mpc \\
\hline
{\em kappa} & surface density in Msun/\+Mpc$^\wedge$2 (?) \\
\hline
{\em gamma} & three components of shear \\
\hline
{\em phi} & potential in solar masses \\
\hline
{\em xcm} & position relative to center (Mpc?) \\
\hline
{\em subtract\+\_\+point} & if true contribution from a point mass is subtracted \\
\hline
{\em screening} & the factor by which to scale the mass for screening of the point mass subtraction \\
\hline
\end{DoxyParams}


Reimplemented in \mbox{\hyperlink{class_lens_halo_dummy_a97a4d4969529502dd956a03c7da6d5ee}{Lens\+Halo\+Dummy}}, \mbox{\hyperlink{class_lens_halo_t_n_s_i_e_a21702bde8394612b37e7f8b4d87086d7}{Lens\+Halo\+T\+N\+S\+IE}}, \mbox{\hyperlink{class_lens_halo_real_n_s_i_e_a819bd516935f96820fe43e5b27d6fec5}{Lens\+Halo\+Real\+N\+S\+IE}}, \mbox{\hyperlink{class_lens_halo_uniform_affe103992cc263e43cb571fb6577acc7}{Lens\+Halo\+Uniform}}, \mbox{\hyperlink{class_lens_halo_mass_map_a7539cfc750a26eda61672263a2f75eb4}{Lens\+Halo\+Mass\+Map}}, \mbox{\hyperlink{class_lens_halo_multi_map_a0480d632182361d89f390c5409d8da80}{Lens\+Halo\+Multi\+Map}}, \mbox{\hyperlink{class_lens_halo_particles_a9b240b0b6e022039c971dde8864ce6fd}{Lens\+Halo\+Particles$<$ P\+Type $>$}}, and \mbox{\hyperlink{class_lens_halo_particles_a9b240b0b6e022039c971dde8864ce6fd}{Lens\+Halo\+Particles$<$ Particle\+Type$<$ float $>$ $>$}}.

\mbox{\Hypertarget{class_lens_halo_a78cc531d36104d72bec891424aba9fcb}\label{class_lens_halo_a78cc531d36104d72bec891424aba9fcb}} 
\index{LensHalo@{LensHalo}!force\_halo\_asym@{force\_halo\_asym}}
\index{force\_halo\_asym@{force\_halo\_asym}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{force\_halo\_asym()}{force\_halo\_asym()}}
{\footnotesize\ttfamily void Lens\+Halo\+::force\+\_\+halo\+\_\+asym (\begin{DoxyParamCaption}\item[{Pos\+Type $\ast$}]{alpha,  }\item[{Kappa\+Type $\ast$}]{kappa,  }\item[{Kappa\+Type $\ast$}]{gamma,  }\item[{Kappa\+Type $\ast$}]{phi,  }\item[{Pos\+Type const $\ast$}]{xcm,  }\item[{bool}]{subtract\+\_\+point = {\ttfamily false},  }\item[{Pos\+Type}]{screening = {\ttfamily 1.0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

intersecting, subtract the point particle

case distinction used for elliptical N\+F\+Ws (true) only (get\+\_\+switch\+\_\+flag==true)

add stars for microlensing
\begin{DoxyParams}{Parameters}
{\em alpha} & mass/\+Mpc \\
\hline
{\em phi} & potential solar masses \\
\hline
{\em subtract\+\_\+point} & if true contribution from a point mass is subtracted \\
\hline
{\em screening} & the factor by which to scale the mass for screening of the point mass subtraction \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_lens_halo_a374d199861689b8186c04d29bf92d6a2}\label{class_lens_halo_a374d199861689b8186c04d29bf92d6a2}} 
\index{LensHalo@{LensHalo}!force\_halo\_sym@{force\_halo\_sym}}
\index{force\_halo\_sym@{force\_halo\_sym}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{force\_halo\_sym()}{force\_halo\_sym()}}
{\footnotesize\ttfamily void Lens\+Halo\+::force\+\_\+halo\+\_\+sym (\begin{DoxyParamCaption}\item[{Pos\+Type $\ast$}]{alpha,  }\item[{Kappa\+Type $\ast$}]{kappa,  }\item[{Kappa\+Type $\ast$}]{gamma,  }\item[{Kappa\+Type $\ast$}]{phi,  }\item[{Pos\+Type const $\ast$}]{xcm,  }\item[{bool}]{subtract\+\_\+point = {\ttfamily false},  }\item[{Pos\+Type}]{screening = {\ttfamily 1.0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



returns the lensing quantities of a ray in center of mass coordinates for a symmetric halo 

phi is defined here in such a way that it differs from alpha by a sign (as we should have alpha = \textbackslash{}nabla\+\_\+x phi) but alpha agrees with the rest of the lensing quantities (kappa and gammas). Warning \+: Be careful, the sign of alpha is changed in \mbox{\hyperlink{class_lens_plane_singular_aae11773b4960c738d6a653813bb78957}{Lens\+Plane\+Singular\+::force}} ! intersecting, subtract the point particle

add stars for microlensing
\begin{DoxyParams}{Parameters}
{\em alpha} & solar mass/\+Mpc \\
\hline
{\em kappa} & convergence \\
\hline
{\em gamma} & three components of shear \\
\hline
{\em phi} & potential solar masses \\
\hline
{\em xcm} & position relative to center (Mpc) \\
\hline
{\em subtract\+\_\+point} & if true contribution from a point mass is subtracted \\
\hline
{\em screening} & the factor by which to scale the mass for screening of the point mass subtraction \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_lens_halo_a06e91f74e759392f288e1b61dcbd75da}\label{class_lens_halo_a06e91f74e759392f288e1b61dcbd75da}} 
\index{LensHalo@{LensHalo}!force\_stars@{force\_stars}}
\index{force\_stars@{force\_stars}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{force\_stars()}{force\_stars()}}
{\footnotesize\ttfamily void Lens\+Halo\+::force\+\_\+stars (\begin{DoxyParamCaption}\item[{Pos\+Type $\ast$}]{alpha,  }\item[{Kappa\+Type $\ast$}]{kappa,  }\item[{Kappa\+Type $\ast$}]{gamma,  }\item[{Pos\+Type const $\ast$}]{xcm }\end{DoxyParamCaption})}



force tree calculation for stars 

calculates the deflection etc. caused by stars alone 
\begin{DoxyParams}{Parameters}
{\em alpha} & mass/\+Mpc \\
\hline
{\em xcm} & physical position on lens plane \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_lens_halo_a6aee0c9abc88ca6d3d8ed9e44a18e6e3}\label{class_lens_halo_a6aee0c9abc88ca6d3d8ed9e44a18e6e3}} 
\index{LensHalo@{LensHalo}!get\_Rmax@{get\_Rmax}}
\index{get\_Rmax@{get\_Rmax}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{get\_Rmax()}{get\_Rmax()}}
{\footnotesize\ttfamily float Lens\+Halo\+::get\+\_\+\+Rmax (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

get the Rmax which is larger than Rsize in Mpc. This is the region exterior to which the halo will be considered a point mass. Between Rsize and Rmax the deflection and shear are interpolated. \mbox{\Hypertarget{class_lens_halo_a50bd89dc5d7d11932c757eb4e962b6ba}\label{class_lens_halo_a50bd89dc5d7d11932c757eb4e962b6ba}} 
\index{LensHalo@{LensHalo}!getDist@{getDist}}
\index{getDist@{getDist}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{getDist()}{getDist()}}
{\footnotesize\ttfamily Pos\+Type Lens\+Halo\+::get\+Dist (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

return current angular size distance, ie conversion between angular and special coordinates. This may not agree with the get\+Z() value because of the projection onto the lens plane. \mbox{\Hypertarget{class_lens_halo_a57eeef037ae032ee1ff79ba0709fbe96}\label{class_lens_halo_a57eeef037ae032ee1ff79ba0709fbe96}} 
\index{LensHalo@{LensHalo}!implant\_stars@{implant\_stars}}
\index{implant\_stars@{implant\_stars}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{implant\_stars()}{implant\_stars()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Lens\+Halo\+::implant\+\_\+stars (\begin{DoxyParamCaption}\item[{Pos\+Type $\ast$$\ast$}]{centers,  }\item[{int}]{Nregions,  }\item[{long $\ast$}]{seed,  }\item[{I\+M\+Ftype}]{type = {\ttfamily One} }\end{DoxyParamCaption})}



Implant or randomize stars into the lens around the images. 

The first time this is called the memory for the stars is allocated. On subsequent calls the star positions and masses are randomized within thier regions, but thier number and average density in stars and total is not changed. This can become out of sync with the host if its parameters are changed.

lens-\/$>$Nstars and lens-\/$>$stars\+\_\+fstars must be set before calling allocates all memory for stars 
\begin{DoxyParams}{Parameters}
{\em centers} & Warning\+:\+: positions need to be in physical Mpc on the lens plane \\
\hline
{\em Nregions} & number of regions where stars should be implanted \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_lens_halo_ad7bd297ae213a7619bad6991d13d8e79}\label{class_lens_halo_ad7bd297ae213a7619bad6991d13d8e79}} 
\index{LensHalo@{LensHalo}!implant\_stars@{implant\_stars}}
\index{implant\_stars@{implant\_stars}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{implant\_stars()}{implant\_stars()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Lens\+Halo\+::implant\+\_\+stars (\begin{DoxyParamCaption}\item[{Pos\+Type $\ast$}]{center,  }\item[{long $\ast$}]{seed,  }\item[{I\+M\+Ftype}]{type = {\ttfamily One} }\end{DoxyParamCaption})}



For implanting one patch of stars. See other implant\+\_\+stars. 


\begin{DoxyParams}{Parameters}
{\em center} & Warning\+:\+: positions need to be in physical Mpc on the lens plane \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_lens_halo_ac3f16aeffae590925d115799698ebaf4}\label{class_lens_halo_ac3f16aeffae590925d115799698ebaf4}} 
\index{LensHalo@{LensHalo}!kappa\_asym@{kappa\_asym}}
\index{kappa\_asym@{kappa\_asym}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{kappa\_asym()}{kappa\_asym()}}
{\footnotesize\ttfamily Pos\+Type Lens\+Halo\+::kappa\+\_\+asym (\begin{DoxyParamCaption}\item[{Pos\+Type}]{x,  }\item[{Pos\+Type}]{theta }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

radius in Mpc (Not x = r/rscale)\mbox{\Hypertarget{class_lens_halo_a81b1a30f1fe716a34799469554693f6e}\label{class_lens_halo_a81b1a30f1fe716a34799469554693f6e}} 
\index{LensHalo@{LensHalo}!map\_variables@{map\_variables}}
\index{map\_variables@{map\_variables}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{map\_variables()}{map\_variables()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_pixel_map}{Pixel\+Map}} Lens\+Halo\+::map\+\_\+variables (\begin{DoxyParamCaption}\item[{Lensing\+Variable}]{lensvar,  }\item[{size\+\_\+t}]{Nx,  }\item[{size\+\_\+t}]{Ny,  }\item[{double}]{res }\end{DoxyParamCaption})}



Map a \mbox{\hyperlink{class_pixel_map}{Pixel\+Map}} of the surface, density, potential and potential gradient centred on (0,0) in Len\+Halo coordinates. 

Units \+: A\+L\+P\+HA -\/ mass/\+Phys\+Mpc -\/ A\+L\+P\+HA / Sig\+\_\+crit / Dl is the deflection in radians K\+A\+P\+PA -\/ surface mass density , mass / /\+Phys\+Mpc/\+Phys\+Mpc -\/ K\+A\+P\+PA / Sig\+\_\+crit is the convergence G\+A\+M\+MA -\/ mass / /\+Phys\+Mpc/\+Phys\+Mpc -\/ G\+A\+M\+MA / Sig\+\_\+crit is the shear P\+HI -\/ mass -\/ P\+HI / Sig\+\_\+crit / Dl / Dl is the lensing potential whose angular gradient is the deflection and angular Laplacian is the convergence 
\begin{DoxyParams}{Parameters}
{\em lensvar} & lensing variable -\/ K\+A\+P\+PA, A\+L\+P\+H\+A1, A\+L\+P\+H\+A2, G\+A\+M\+M\+A1, G\+A\+M\+M\+A2 or P\+HI \\
\hline
{\em res} & resolution in physical Mpc on the lens plane \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_lens_halo_aaa135c7e56a24de4a1dee76604a44141}\label{class_lens_halo_aaa135c7e56a24de4a1dee76604a44141}} 
\index{LensHalo@{LensHalo}!operator=@{operator=}}
\index{operator=@{operator=}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \& Lens\+Halo\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \&}]{h }\end{DoxyParamCaption})}

Identification number of halo. It is not always used.\mbox{\Hypertarget{class_lens_halo_a9be986a94c12228b2e5c173c1cf5d85c}\label{class_lens_halo_a9be986a94c12228b2e5c173c1cf5d85c}} 
\index{LensHalo@{LensHalo}!operator=@{operator=}}
\index{operator=@{operator=}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \& Lens\+Halo\+::operator= (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_lens_halo}{Lens\+Halo}} \&\&}]{h }\end{DoxyParamCaption})}

Identification number of halo. It is not always used.\mbox{\Hypertarget{class_lens_halo_ae93d20b6fdeaaab7d1f0a61a13e6d644}\label{class_lens_halo_ae93d20b6fdeaaab7d1f0a61a13e6d644}} 
\index{LensHalo@{LensHalo}!setCosmology@{setCosmology}}
\index{setCosmology@{setCosmology}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{setCosmology()}{setCosmology()}}
{\footnotesize\ttfamily virtual void Lens\+Halo\+::set\+Cosmology (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_c_o_s_m_o_l_o_g_y}{C\+O\+S\+M\+O\+L\+O\+GY}} \&}]{cosmo }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



used for elliptical N\+F\+Ws only, in that case get\+\_\+switch\+\_\+flag==true 

set cosmology for halo 

Reimplemented in \mbox{\hyperlink{class_lens_halo_ana_n_s_i_e_a7f20a04409e5b5ce166338b049b18d85}{Lens\+Halo\+Ana\+N\+S\+IE}}.

\mbox{\Hypertarget{class_lens_halo_abfdd17695d04ce50bd97c695e30e07d5}\label{class_lens_halo_abfdd17695d04ce50bd97c695e30e07d5}} 
\index{LensHalo@{LensHalo}!stellar\_mass\_function@{stellar\_mass\_function}}
\index{stellar\_mass\_function@{stellar\_mass\_function}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{stellar\_mass\_function()}{stellar\_mass\_function()}}
{\footnotesize\ttfamily std\+::vector$<$ float $>$ Lens\+Halo\+::stellar\+\_\+mass\+\_\+function (\begin{DoxyParamCaption}\item[{I\+M\+Ftype}]{type,  }\item[{unsigned long}]{Nstars,  }\item[{long $\ast$}]{seed,  }\item[{Pos\+Type}]{minmass = {\ttfamily 0.0},  }\item[{Pos\+Type}]{maxmass = {\ttfamily 0.0},  }\item[{Pos\+Type}]{bendmass = {\ttfamily 0.0},  }\item[{Pos\+Type}]{powerlo = {\ttfamily 0.0},  }\item[{Pos\+Type}]{powerhi = {\ttfamily 0.0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



random stellar masses according to I\+MF of choice 

mtype defines the stellar mass function 0 -\/ always the same stellar mass (e.\+g. 1Msol) 1 -\/ salpeter imf, i.\+e. slope = -\/2.\+35 2 -\/ broken power law, requires lower mass end slope (powerlo), high mass slope (powerhi), bending point (bendmass) 3 -\/ further I\+MF models may follow \mbox{\Hypertarget{class_lens_halo_a9b357894d8d644741be0cec08e45bb30}\label{class_lens_halo_a9b357894d8d644741be0cec08e45bb30}} 
\index{LensHalo@{LensHalo}!test@{test}}
\index{test@{test}!LensHalo@{LensHalo}}
\doxysubsubsection{\texorpdfstring{test()}{test()}}
{\footnotesize\ttfamily bool Lens\+Halo\+::test (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



perform some basic consistancy checks for halo 

Three tests\+: 1st -\/ Mass via 1D integration vs mass via 2D integration. 2nd\+: gamma\+\_\+t=alpha/r -\/ kappa(\+R) which can be used for spherical distributions. Deviations are expected for axis ratios $<$1. For the latter case we use the next test. 3rd\+: The average along a circular aperture of gamma\+\_\+t should be equal to $<$kappa($<$\+R)$>$ minus the average along a circular aperture over kappa. Note that also alpha/r -\/ kappa is checked for consistency with kappa($<$\+R)-\/$<$kappa(\+R)$>$. For axis ratios $<$ 1 the factor between the two is expected to be of order O(10\%). 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
S\+Lsim\+Lib/include/lens\+\_\+halos.\+h\item 
S\+Lsim\+Lib/\+Analytic\+N\+S\+I\+E/base\+\_\+analens.\+cpp\item 
S\+Lsim\+Lib/\+Analytic\+N\+S\+I\+E/modes\+\_\+ana.\+cpp\item 
S\+Lsim\+Lib/\+Analytic\+N\+S\+I\+E/readfiles\+\_\+uni.\+cpp\item 
S\+Lsim\+Lib/\+Full\+Range/implant\+\_\+stars.\+cpp\item 
S\+Lsim\+Lib/\+Multi\+Plane/lens\+\_\+halos.\+cpp\end{DoxyCompactItemize}
