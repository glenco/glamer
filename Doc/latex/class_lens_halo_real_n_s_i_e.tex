\hypertarget{class_lens_halo_real_n_s_i_e}{}\doxysection{Lens\+Halo\+Real\+N\+S\+IE Class Reference}
\label{class_lens_halo_real_n_s_i_e}\index{LensHaloRealNSIE@{LensHaloRealNSIE}}


Represents a non-\/singular isothermal elliptical lens.  




{\ttfamily \#include $<$lens\+\_\+halos.\+h$>$}



Inheritance diagram for Lens\+Halo\+Real\+N\+S\+IE\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=182pt]{class_lens_halo_real_n_s_i_e__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Lens\+Halo\+Real\+N\+S\+IE\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=182pt]{class_lens_halo_real_n_s_i_e__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_lens_halo_real_n_s_i_e_a6740f067c19676e37d7cf85ae695eefb}{Lens\+Halo\+Real\+N\+S\+IE}} (float my\+\_\+mass, Pos\+Type my\+\_\+zlens, float my\+\_\+sigma, float my\+\_\+rcore, float my\+\_\+fratio, float my\+\_\+pa, const \mbox{\hyperlink{class_c_o_s_m_o_l_o_g_y}{C\+O\+S\+M\+O\+L\+O\+GY}} \&cosmo)
\begin{DoxyCompactList}\small\item\em explicit constructor, Warning\+: If my\+\_\+rcore $>$ 0.\+0 and my\+\_\+fratio $<$ 1 then the mass will be somewhat less than my\+\_\+mass. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_a5b368bd4b81e0e3c52a594ad456845e5}\label{class_lens_halo_real_n_s_i_e_a5b368bd4b81e0e3c52a594ad456845e5}} 
{\bfseries Lens\+Halo\+Real\+N\+S\+IE} (const \mbox{\hyperlink{class_lens_halo_real_n_s_i_e}{Lens\+Halo\+Real\+N\+S\+IE}} \&h)
\item 
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_a112c455d48a51403349d2ac58fa3c7aa}\label{class_lens_halo_real_n_s_i_e_a112c455d48a51403349d2ac58fa3c7aa}} 
\mbox{\hyperlink{class_lens_halo_real_n_s_i_e}{Lens\+Halo\+Real\+N\+S\+IE}} \& {\bfseries operator=} (const \mbox{\hyperlink{class_lens_halo_real_n_s_i_e}{Lens\+Halo\+Real\+N\+S\+IE}} \&h)
\item 
void \mbox{\hyperlink{class_lens_halo_real_n_s_i_e_a819bd516935f96820fe43e5b27d6fec5}{force\+\_\+halo}} (Pos\+Type $\ast$alpha, Kappa\+Type $\ast$kappa, Kappa\+Type $\ast$gamma, Kappa\+Type $\ast$phi, Pos\+Type const $\ast$xcm, bool subtract\+\_\+point=false, Pos\+Type screening=1.\+0)
\begin{DoxyCompactList}\small\item\em overridden function to calculate the lensing properties \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_a67d91d891fd292da7edc05408a280f16}\label{class_lens_halo_real_n_s_i_e_a67d91d891fd292da7edc05408a280f16}} 
float \mbox{\hyperlink{class_lens_halo_real_n_s_i_e_a67d91d891fd292da7edc05408a280f16}{get\+\_\+sigma}} ()
\begin{DoxyCompactList}\small\item\em get the velocity dispersion \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_aeb41845d0867785f69d47dd61c044c0f}\label{class_lens_halo_real_n_s_i_e_aeb41845d0867785f69d47dd61c044c0f}} 
float \mbox{\hyperlink{class_lens_halo_real_n_s_i_e_aeb41845d0867785f69d47dd61c044c0f}{get\+\_\+fratio}} ()
\begin{DoxyCompactList}\small\item\em get the axis ratio \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_a1c671a7e6cf51beec3eee19566364198}\label{class_lens_halo_real_n_s_i_e_a1c671a7e6cf51beec3eee19566364198}} 
float \mbox{\hyperlink{class_lens_halo_real_n_s_i_e_a1c671a7e6cf51beec3eee19566364198}{get\+\_\+pa}} ()
\begin{DoxyCompactList}\small\item\em get the position angle \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_a87eddad4a45f97513a24e7767217048c}\label{class_lens_halo_real_n_s_i_e_a87eddad4a45f97513a24e7767217048c}} 
float \mbox{\hyperlink{class_lens_halo_real_n_s_i_e_a87eddad4a45f97513a24e7767217048c}{get\+\_\+rcore}} ()
\begin{DoxyCompactList}\small\item\em get the core radius \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_ad1508629420d5c79d3601cb4665114fe}\label{class_lens_halo_real_n_s_i_e_ad1508629420d5c79d3601cb4665114fe}} 
void \mbox{\hyperlink{class_lens_halo_real_n_s_i_e_ad1508629420d5c79d3601cb4665114fe}{set\+\_\+sigma}} (float my\+\_\+sigma)
\begin{DoxyCompactList}\small\item\em set the velocity dispersion \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_a12e878c04721c762ae9bebc5a25c01c2}\label{class_lens_halo_real_n_s_i_e_a12e878c04721c762ae9bebc5a25c01c2}} 
void \mbox{\hyperlink{class_lens_halo_real_n_s_i_e_a12e878c04721c762ae9bebc5a25c01c2}{set\+\_\+fratio}} (float my\+\_\+fratio)
\begin{DoxyCompactList}\small\item\em set the axis ratio \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_a5f74372b820be290639413cd26456028}\label{class_lens_halo_real_n_s_i_e_a5f74372b820be290639413cd26456028}} 
void \mbox{\hyperlink{class_lens_halo_real_n_s_i_e_a5f74372b820be290639413cd26456028}{set\+\_\+pa}} (float my\+\_\+pa)
\begin{DoxyCompactList}\small\item\em set the position angle \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_a2ed71c36a12d26cc7188d2db9625a8d7}\label{class_lens_halo_real_n_s_i_e_a2ed71c36a12d26cc7188d2db9625a8d7}} 
void \mbox{\hyperlink{class_lens_halo_real_n_s_i_e_a2ed71c36a12d26cc7188d2db9625a8d7}{set\+\_\+rcore}} (float my\+\_\+rcore)
\begin{DoxyCompactList}\small\item\em set the core radius Einstein radius \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_a3579bedee53f1c27c7f3f5417a3b6ac9}\label{class_lens_halo_real_n_s_i_e_a3579bedee53f1c27c7f3f5417a3b6ac9}} 
void {\bfseries set\+Zlens} (Pos\+Type my\+\_\+zlens, const \mbox{\hyperlink{class_c_o_s_m_o_l_o_g_y}{C\+O\+S\+M\+O\+L\+O\+GY}} \&cosmo)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_lens_halo_real_n_s_i_e_ad424eaab3e55a1b101f0b7a84fdc474b}{assign\+Params}} (\mbox{\hyperlink{class_input_params}{Input\+Params}} \&params)
\begin{DoxyCompactList}\small\item\em initialize from a simulation file \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_a277e6c93788c290fcf7c9bbbd32b0ce6}\label{class_lens_halo_real_n_s_i_e_a277e6c93788c290fcf7c9bbbd32b0ce6}} 
Pos\+Type \mbox{\hyperlink{class_lens_halo_real_n_s_i_e_a277e6c93788c290fcf7c9bbbd32b0ce6}{rmax\+\_\+calc}} ()
\begin{DoxyCompactList}\small\item\em for the set fratio, sigma and rcore calculate the radius that contains the correct mass \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_ad0d58a890351b37eba52eb47e1a234f6}\label{class_lens_halo_real_n_s_i_e_ad0d58a890351b37eba52eb47e1a234f6}} 
void {\bfseries construct\+\_\+ellip\+\_\+tables} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_a7f85989781550a0212742ba4f8eef3ae}\label{class_lens_halo_real_n_s_i_e_a7f85989781550a0212742ba4f8eef3ae}} 
float {\bfseries units}
\item 
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_a3e5b1c58a0e49787473551bf3ee2d893}\label{class_lens_halo_real_n_s_i_e_a3e5b1c58a0e49787473551bf3ee2d893}} 
float \mbox{\hyperlink{class_lens_halo_real_n_s_i_e_a3e5b1c58a0e49787473551bf3ee2d893}{sigma}}
\begin{DoxyCompactList}\small\item\em velocity dispersion of N\+S\+IE \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_ad5b2d23ccf59add995299c843082014c}\label{class_lens_halo_real_n_s_i_e_ad5b2d23ccf59add995299c843082014c}} 
float \mbox{\hyperlink{class_lens_halo_real_n_s_i_e_ad5b2d23ccf59add995299c843082014c}{fratio}}
\begin{DoxyCompactList}\small\item\em axis ratio of surface mass distribution \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_a8cf88e172212e1ea469eb9348fbca782}\label{class_lens_halo_real_n_s_i_e_a8cf88e172212e1ea469eb9348fbca782}} 
float \mbox{\hyperlink{class_lens_halo_real_n_s_i_e_a8cf88e172212e1ea469eb9348fbca782}{pa}}
\begin{DoxyCompactList}\small\item\em position angle on sky, radians \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_a3459fe0ce3588c7a52a4d1c37a9e7f55}\label{class_lens_halo_real_n_s_i_e_a3459fe0ce3588c7a52a4d1c37a9e7f55}} 
float \mbox{\hyperlink{class_lens_halo_real_n_s_i_e_a3459fe0ce3588c7a52a4d1c37a9e7f55}{rcore}}
\begin{DoxyCompactList}\small\item\em core size of N\+S\+IE \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_ae4d5ecb41c411409b61120c44921fa93}\label{class_lens_halo_real_n_s_i_e_ae4d5ecb41c411409b61120c44921fa93}} 
static size\+\_\+t {\bfseries object\+Count} = 0
\item 
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_a738aeca7387281bfdcce36133df42c37}\label{class_lens_halo_real_n_s_i_e_a738aeca7387281bfdcce36133df42c37}} 
static std\+::vector$<$ double $>$ {\bfseries q\+\_\+table}
\item 
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_af0399f2e6ee3c6872fade5e6cea70d12}\label{class_lens_halo_real_n_s_i_e_af0399f2e6ee3c6872fade5e6cea70d12}} 
static std\+::vector$<$ double $>$ {\bfseries Fofq\+\_\+table}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
Represents a non-\/singular isothermal elliptical lens. 

This is a true N\+S\+IE lens rather than an expansion that approximates one.

The maximum radius is set by requireing the total mass to match the input mass. At radii larger than this radius the halo is treated as a point mass. In the case of an ellipitcal halo there is a transition region between these to match the solutions without a discontinuity. In this region the lensing quanties have small corrections which do not correspond to a realistic mass distribution. If the halo is expected to be sampled at or beyond the maxiumum radius you should consider using a Truncated Non\+Singular Isotherma Ellipsoid (`\mbox{\hyperlink{class_lens_halo_t_n_s_i_e}{Lens\+Halo\+T\+N\+S\+IE}}') which more naturally deals with the finite truncation. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_a6740f067c19676e37d7cf85ae695eefb}\label{class_lens_halo_real_n_s_i_e_a6740f067c19676e37d7cf85ae695eefb}} 
\index{LensHaloRealNSIE@{LensHaloRealNSIE}!LensHaloRealNSIE@{LensHaloRealNSIE}}
\index{LensHaloRealNSIE@{LensHaloRealNSIE}!LensHaloRealNSIE@{LensHaloRealNSIE}}
\doxysubsubsection{\texorpdfstring{LensHaloRealNSIE()}{LensHaloRealNSIE()}}
{\footnotesize\ttfamily Lens\+Halo\+Real\+N\+S\+I\+E\+::\+Lens\+Halo\+Real\+N\+S\+IE (\begin{DoxyParamCaption}\item[{float}]{my\+\_\+mass,  }\item[{Pos\+Type}]{my\+\_\+zlens,  }\item[{float}]{my\+\_\+sigma,  }\item[{float}]{my\+\_\+rcore,  }\item[{float}]{my\+\_\+fratio,  }\item[{float}]{my\+\_\+pa,  }\item[{const \mbox{\hyperlink{class_c_o_s_m_o_l_o_g_y}{C\+O\+S\+M\+O\+L\+O\+GY}} \&}]{cosmo }\end{DoxyParamCaption})}



explicit constructor, Warning\+: If my\+\_\+rcore $>$ 0.\+0 and my\+\_\+fratio $<$ 1 then the mass will be somewhat less than my\+\_\+mass. 

sqrt(fratio); // mass/distance(physical);
\begin{DoxyParams}{Parameters}
{\em my\+\_\+mass} & mass, sets truncation radius \\
\hline
{\em my\+\_\+zlens} & redshift \\
\hline
{\em my\+\_\+sigma} & in km/s \\
\hline
{\em my\+\_\+rcore} & core radius \\
\hline
{\em my\+\_\+fratio} & axis ratio \\
\hline
{\em my\+\_\+pa} & postion angle \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_ad424eaab3e55a1b101f0b7a84fdc474b}\label{class_lens_halo_real_n_s_i_e_ad424eaab3e55a1b101f0b7a84fdc474b}} 
\index{LensHaloRealNSIE@{LensHaloRealNSIE}!assignParams@{assignParams}}
\index{assignParams@{assignParams}!LensHaloRealNSIE@{LensHaloRealNSIE}}
\doxysubsubsection{\texorpdfstring{assignParams()}{assignParams()}}
{\footnotesize\ttfamily void Lens\+Halo\+Real\+N\+S\+I\+E\+::assign\+Params (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_input_params}{Input\+Params}} \&}]{params }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



initialize from a simulation file 

initialize from a mass function simple initialize from mass while setting a random position angle and ellipticity read-\/in parameters from a parameter file \mbox{\Hypertarget{class_lens_halo_real_n_s_i_e_a819bd516935f96820fe43e5b27d6fec5}\label{class_lens_halo_real_n_s_i_e_a819bd516935f96820fe43e5b27d6fec5}} 
\index{LensHaloRealNSIE@{LensHaloRealNSIE}!force\_halo@{force\_halo}}
\index{force\_halo@{force\_halo}!LensHaloRealNSIE@{LensHaloRealNSIE}}
\doxysubsubsection{\texorpdfstring{force\_halo()}{force\_halo()}}
{\footnotesize\ttfamily void Lens\+Halo\+Real\+N\+S\+I\+E\+::force\+\_\+halo (\begin{DoxyParamCaption}\item[{Pos\+Type $\ast$}]{alpha,  }\item[{Kappa\+Type $\ast$}]{kappa,  }\item[{Kappa\+Type $\ast$}]{gamma,  }\item[{Kappa\+Type $\ast$}]{phi,  }\item[{Pos\+Type const $\ast$}]{xcm,  }\item[{bool}]{subtract\+\_\+point = {\ttfamily false},  }\item[{Pos\+Type}]{screening = {\ttfamily 1.0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



overridden function to calculate the lensing properties 

sqrt(fratio);
\begin{DoxyParams}{Parameters}
{\em subtract\+\_\+point} & if true contribution from a point mass is subtracted \\
\hline
{\em screening} & the factor by which to scale the mass for screening of the point mass subtraction \\
\hline
\end{DoxyParams}


Reimplemented from \mbox{\hyperlink{class_lens_halo_a460de105e52520a328d5912455c02fdd}{Lens\+Halo}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
S\+Lsim\+Lib/include/lens\+\_\+halos.\+h\item 
S\+Lsim\+Lib/\+Multi\+Plane/lens\+\_\+halos.\+cpp\end{DoxyCompactItemize}
